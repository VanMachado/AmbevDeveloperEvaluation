2025-05-07 11:16:17.548 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:16:17.734 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:16:17.810 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:16:17.810 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:16:17.838 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:16:17.839 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:16:17.840 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:16:17.986 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:16:18.073 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 87.6492ms
2025-05-07 11:16:18.087 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:16:18.089 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.793ms
2025-05-07 11:16:18.184 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:16:18.185 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:16:18.192 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.5254ms
2025-05-07 11:16:18.204 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.5823ms
2025-05-07 11:16:18.307 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:16:18.372 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.587ms
2025-05-07 11:17:06.530 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:17:06.645 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:17:06.657 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateUser", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:17:07.720 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:17:07.741 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:17:07.756 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Sales.CreateSale.CreateSaleHandler Sale abdb1f48-7d42-4543-8289-e95714474633 sucefully created!
2025-05-07 11:17:07.761 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:17:07.766 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateUser (Ambev.DeveloperEvaluation.WebApi) in 1105.7276ms
2025-05-07 11:17:07.767 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:17:07.772 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 1241.6271ms
2025-05-07 11:18:11.638 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 11:48:30.982 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:48:31.181 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:48:31.391 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:48:31.391 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:48:31.417 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:48:31.418 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:48:31.418 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:48:31.656 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:48:31.745 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 89.9952ms
2025-05-07 11:48:31.754 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:48:31.757 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.9253ms
2025-05-07 11:48:31.870 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:48:31.871 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:48:31.878 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.0999ms
2025-05-07 11:48:31.889 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.5917ms
2025-05-07 11:48:31.986 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:48:32.049 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.6417ms
2025-05-07 11:48:54.622 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:48:54.645 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:48:54.657 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:48:55.344 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:48:55.363 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:48:55.379 -03:00 [INF]  Sale 238bdc37-87e9-496f-bcbd-aefdb20ba451 sucefully created!
2025-05-07 11:48:55.384 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:48:55.389 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 728.8352ms
2025-05-07 11:48:55.390 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:48:55.395 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 772.4782ms
2025-05-07 11:49:06.278 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 619
2025-05-07 11:49:06.280 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:06.281 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:49:06.315 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:49:06.318 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:49:06.321 -03:00 [INF] Sale 5df7dbd1-96ac-4a16-b822-235e5f23a619 sucefully created!
2025-05-07 11:49:06.322 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:49:06.323 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 40.6121ms
2025-05-07 11:49:06.324 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:06.325 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 46.9147ms
2025-05-07 11:49:25.300 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 208
2025-05-07 11:49:25.304 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:25.305 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:49:25.314 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=11.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-05-07 11:49:25.321 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 15.3881ms
2025-05-07 11:49:25.322 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:25.323 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 23.0827ms
2025-05-07 11:50:06.469 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 11:57:46.243 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:57:46.305 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:57:46.367 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:57:46.368 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:57:46.392 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:57:46.393 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:57:46.394 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:57:46.631 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:57:46.712 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 82.1859ms
2025-05-07 11:57:46.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:57:46.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:57:46.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:57:46.722 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8676ms
2025-05-07 11:57:46.726 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.2788ms
2025-05-07 11:57:46.737 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3852ms
2025-05-07 11:57:47.013 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:57:47.065 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.0586ms
2025-05-07 11:58:10.029 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 11:59:31.914 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:59:31.979 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:59:32.181 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:59:32.182 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:59:32.208 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:59:32.209 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:59:32.209 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:59:32.410 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:59:32.494 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.4251ms
2025-05-07 11:59:32.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:59:32.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:59:32.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:59:32.507 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4304ms
2025-05-07 11:59:32.513 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.6949ms
2025-05-07 11:59:32.522 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3847ms
2025-05-07 11:59:32.672 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:59:32.736 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6767ms
2025-05-07 11:59:37.035 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:59:37.051 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:37.064 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:59:37.737 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."CustomerId" = @__id_0
LIMIT 1
2025-05-07 11:59:37.878 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:59:37.890 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:59:37.904 -03:00 [INF]  Sale d1b42727-29ad-4a14-9a46-1529a1ba9370 sucefully created!
2025-05-07 11:59:37.910 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:59:37.916 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 848.6166ms
2025-05-07 11:59:37.917 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:37.922 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 886.8978ms
2025-05-07 11:59:47.526 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:59:47.529 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:47.530 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:59:47.549 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."CustomerId" = @__id_0
LIMIT 1
2025-05-07 11:59:47.554 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:59:47.558 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:59:47.562 -03:00 [INF]  Sale d96ec7d4-9600-46cb-b83e-83fba30c9a68 sucefully created!
2025-05-07 11:59:47.563 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:59:47.565 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 32.2268ms
2025-05-07 11:59:47.566 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:47.567 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 40.819ms
2025-05-07 12:01:08.333 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 12:05:56.836 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 12:05:57.040 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 12:05:57.108 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 12:05:57.109 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 12:05:57.135 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 12:05:57.136 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 12:05:57.136 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 12:05:57.761 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:05:57.847 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.3113ms
2025-05-07 12:05:57.854 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:05:57.854 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:05:57.857 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.0059ms
2025-05-07 12:05:57.862 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.9966ms
2025-05-07 12:05:57.909 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:05:57.925 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8643ms
2025-05-07 12:05:58.086 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:05:58.143 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.4215ms
2025-05-07 12:06:08.245 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 12:06:08.263 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:08.276 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:06:09.084 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 12:06:09.139 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:06:09.144 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 864.3352ms
2025-05-07 12:06:09.145 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:09.149 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 904.5808ms
2025-05-07 12:06:42.869 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:06:42.872 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.7785ms
2025-05-07 12:06:42.882 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:06:42.884 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.1001ms
2025-05-07 12:06:42.885 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:06:42.885 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:06:42.891 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.6783ms
2025-05-07 12:06:42.895 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9099ms
2025-05-07 12:06:43.084 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:06:43.091 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.0541ms
2025-05-07 12:06:49.513 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 12:06:49.516 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:49.521 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:06:49.540 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 12:06:49.543 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:06:49.546 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 23.484ms
2025-05-07 12:06:49.548 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:49.550 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 36.3544ms
2025-05-07 12:06:58.182 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 12:46:40.997 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 12:46:41.058 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 12:46:41.122 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 12:46:41.122 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 12:46:41.147 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 12:46:41.148 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 12:46:41.149 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 12:46:41.631 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:46:41.716 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.0899ms
2025-05-07 12:46:41.728 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:46:41.728 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:46:41.731 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8003ms
2025-05-07 12:46:41.735 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.7371ms
2025-05-07 12:46:41.775 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:46:41.791 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.78ms
2025-05-07 12:46:41.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:46:41.987 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.4028ms
2025-05-07 12:46:54.598 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 12:46:54.615 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:46:54.627 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:46:55.341 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (29ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 12:46:55.480 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 12:46:55.492 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 12:46:55.506 -03:00 [INF]  Sale e734317e-fcd7-4e25-b10e-c08bb7c72844 sucefully created!
2025-05-07 12:46:55.512 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:46:55.516 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 886.5286ms
2025-05-07 12:46:55.518 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:46:55.522 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 923.4426ms
2025-05-07 12:47:15.519 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:47:15.522 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:15.526 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:47:15.587 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:47:15.601 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:47:15.603 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 74.8418ms
2025-05-07 12:47:15.604 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:15.605 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 400 null application/json; charset=utf-8 85.2507ms
2025-05-07 12:47:51.946 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:47:51.949 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:51.950 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:47:51.985 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:47:51.988 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:47:51.989 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 37.3114ms
2025-05-07 12:47:51.990 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:51.990 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 400 null application/json; charset=utf-8 44.2688ms
2025-05-07 12:48:10.318 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 12:52:50.166 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 12:52:50.231 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 12:52:50.295 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 12:52:50.296 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 12:52:50.320 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 12:52:50.321 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 12:52:50.322 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 12:52:50.737 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:52:50.820 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 83.8857ms
2025-05-07 12:52:50.832 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:52:50.832 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:52:50.836 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.1378ms
2025-05-07 12:52:50.838 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.9503ms
2025-05-07 12:52:50.880 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:52:50.895 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.1059ms
2025-05-07 12:52:51.026 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:52:51.091 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.8446ms
2025-05-07 12:52:57.920 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:52:57.937 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:52:57.950 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:52:58.643 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:52:58.711 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:52:58.726 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 773.365ms
2025-05-07 12:52:58.728 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:52:58.733 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 813.013ms
2025-05-07 12:55:58.246 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:55:58.249 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:55:58.250 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:55:58.267 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:55:58.269 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:55:58.271 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 19.3481ms
2025-05-07 12:55:58.272 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:55:58.273 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 27.1386ms
2025-05-07 12:56:18.167 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72858 - null null
2025-05-07 12:56:18.170 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:18.171 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:56:18.206 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:56:18.208 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:56:18.210 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 36.9496ms
2025-05-07 12:56:18.210 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:18.211 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72858 - 400 null application/json; charset=utf-8 43.8627ms
2025-05-07 12:56:32.291 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/348eac52-cef9-4d81-99f4-eee58a27a510 - null null
2025-05-07 12:56:32.293 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:32.294 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:56:32.298 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:56:32.300 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:56:32.301 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 5.5079ms
2025-05-07 12:56:32.302 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:32.303 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/348eac52-cef9-4d81-99f4-eee58a27a510 - 400 null application/json; charset=utf-8 11.5482ms
2025-05-07 12:57:09.692 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:57:09.696 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.5635ms
2025-05-07 12:57:09.710 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:57:09.710 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:57:09.711 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:57:09.714 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4256ms
2025-05-07 12:57:09.715 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 4.9667ms
2025-05-07 12:57:09.718 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.324ms
2025-05-07 12:57:09.854 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:57:09.863 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.4204ms
2025-05-07 12:57:27.574 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - null null
2025-05-07 12:57:27.575 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:27.579 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:57:27.583 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:57:27.585 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:57:27.587 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 6.4401ms
2025-05-07 12:57:27.588 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:27.588 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - 400 null application/json; charset=utf-8 14.7309ms
2025-05-07 12:57:39.165 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:57:39.169 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.4761ms
2025-05-07 12:57:39.182 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:57:39.182 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:57:39.182 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:57:39.184 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.3724ms
2025-05-07 12:57:39.186 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.9452ms
2025-05-07 12:57:39.189 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.6402ms
2025-05-07 12:57:39.239 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:57:39.245 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.4009ms
2025-05-07 12:57:43.015 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - null null
2025-05-07 12:57:43.016 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:43.020 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:57:43.024 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:57:43.027 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:57:43.028 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 6.7778ms
2025-05-07 12:57:43.029 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:43.030 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - 404 null application/json; charset=utf-8 15.6044ms
2025-05-07 12:58:03.904 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:58:03.911 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 6.3799ms
2025-05-07 12:58:03.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:58:03.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:58:03.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:58:03.926 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.0084ms
2025-05-07 12:58:03.930 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.2007ms
2025-05-07 12:58:03.930 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.4317ms
2025-05-07 12:58:03.985 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:58:03.990 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.6591ms
2025-05-07 12:58:25.736 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-05-07 12:58:25.738 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:25.742 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:58:25.751 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:58:25.754 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:58:25.757 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 13.5769ms
2025-05-07 12:58:25.758 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:25.759 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 404 null application/json; charset=utf-8 23.6551ms
2025-05-07 12:58:35.833 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:58:35.835 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:35.836 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:58:35.840 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:58:35.843 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:58:35.847 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 9.2568ms
2025-05-07 12:58:35.849 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:35.850 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 16.8037ms
2025-05-07 13:01:12.077 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 13:05:35.320 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:05:35.385 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:05:35.451 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:05:35.452 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:05:35.477 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:05:35.477 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:05:35.478 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:05:35.947 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:05:36.031 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.7373ms
2025-05-07 13:05:36.042 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:05:36.042 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:05:36.045 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.6617ms
2025-05-07 13:05:36.049 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.6473ms
2025-05-07 13:05:36.088 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:05:36.104 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.4925ms
2025-05-07 13:05:36.229 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:05:36.288 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.2687ms
2025-05-07 13:05:44.136 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 13:05:44.152 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:05:44.164 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:05:44.844 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:05:44.912 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:05:44.927 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 760.2779ms
2025-05-07 13:05:44.928 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:05:44.933 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 796.5617ms
2025-05-07 13:05:55.614 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 13:18:03.528 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:18:03.591 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:18:03.654 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:18:03.654 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:18:03.679 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:18:03.680 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:18:03.680 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:18:04.093 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:18:04.184 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 91.2911ms
2025-05-07 13:18:04.247 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:18:04.247 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:18:04.250 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7287ms
2025-05-07 13:18:04.255 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.18ms
2025-05-07 13:18:04.302 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:18:04.318 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.4185ms
2025-05-07 13:18:04.445 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:18:04.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.0504ms
2025-05-07 13:18:08.599 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:18:08.615 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:18:08.626 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:18:09.268 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:18:09.355 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:18:09.371 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 741.8249ms
2025-05-07 13:18:09.372 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:18:09.376 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 777.7481ms
2025-05-07 13:19:09.692 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 549
2025-05-07 13:19:09.695 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:09.699 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:19:09.793 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:19:09.878 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:19:09.888 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 13:19:09.900 -03:00 [INF]  Sale 5ec60e5a-6c43-425e-bfdf-07c4fe147150 sucefully created!
2025-05-07 13:19:09.903 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:19:09.905 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 204.4312ms
2025-05-07 13:19:09.906 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:09.907 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 215.0684ms
2025-05-07 13:19:46.386 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 398
2025-05-07 13:19:46.389 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:46.390 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:19:46.399 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=11.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-05-07 13:19:46.406 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 14.9309ms
2025-05-07 13:19:46.407 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:46.408 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 22.3009ms
2025-05-07 13:19:56.338 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 399
2025-05-07 13:19:56.340 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:56.340 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:19:56.376 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:19:56.380 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:19:56.382 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-05-07 13:19:56.386 -03:00 [INF]  Sale 8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 sucefully created!
2025-05-07 13:19:56.386 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:19:56.387 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 45.5435ms
2025-05-07 13:19:56.388 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:56.389 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 51.3646ms
2025-05-07 13:20:03.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:20:03.441 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:03.442 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:20:03.446 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:20:03.448 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:20:03.450 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 6.8367ms
2025-05-07 13:20:03.451 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:03.452 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 12.3376ms
2025-05-07 13:20:24.493 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - null null
2025-05-07 13:20:24.495 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:24.499 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:20:24.517 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:20:24.522 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:20:24.526 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 25.5621ms
2025-05-07 13:20:24.527 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:24.527 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - 200 null application/json; charset=utf-8 34.7239ms
2025-05-07 13:31:50.932 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - null null
2025-05-07 13:31:50.934 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:31:50.935 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:31:50.945 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:31:50.947 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:31:50.948 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 11.6724ms
2025-05-07 13:31:50.949 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:31:50.950 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - 200 null application/json; charset=utf-8 17.8405ms
2025-05-07 13:33:05.484 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:33:05.489 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.2116ms
2025-05-07 13:33:05.503 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:33:05.503 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:33:05.505 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.2808ms
2025-05-07 13:33:05.507 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 4.0678ms
2025-05-07 13:33:05.543 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:33:05.550 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1011ms
2025-05-07 13:33:05.703 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:33:05.713 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8917ms
2025-05-07 13:33:10.254 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - null null
2025-05-07 13:33:10.256 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:33:10.260 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:33:10.267 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:33:10.269 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:33:10.273 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 11.9569ms
2025-05-07 13:33:10.274 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:33:10.275 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - 200 null application/json; charset=utf-8 21.0434ms
2025-05-07 13:33:41.888 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:33:41.891 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 2.8721ms
2025-05-07 13:33:41.905 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:33:41.905 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:33:41.905 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:33:41.907 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 1.9841ms
2025-05-07 13:33:41.909 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.8794ms
2025-05-07 13:33:41.914 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.781ms
2025-05-07 13:33:42.091 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:33:42.097 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.2265ms
2025-05-07 13:33:59.989 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - null null
2025-05-07 13:33:59.991 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:33:59.994 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:33:59.998 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:34:00.000 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:34:00.004 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 7.8256ms
2025-05-07 13:34:00.004 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:34:00.005 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - 200 null application/json; charset=utf-8 16.5093ms
2025-05-07 13:36:40.496 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:36:40.500 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.8811ms
2025-05-07 13:36:40.516 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:36:40.516 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:36:40.518 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 2.0481ms
2025-05-07 13:36:40.520 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.5505ms
2025-05-07 13:36:40.655 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:36:40.659 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.5041ms
2025-05-07 13:36:40.762 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:36:40.767 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.2763ms
2025-05-07 13:36:50.716 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - null null
2025-05-07 13:36:50.717 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:36:50.720 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:36:50.724 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:36:50.726 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:36:50.729 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 7.5552ms
2025-05-07 13:36:50.730 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:36:50.731 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - 200 null application/json; charset=utf-8 14.8859ms
2025-05-07 13:37:38.475 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:37:38.478 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 2.814ms
2025-05-07 13:37:38.495 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:37:38.495 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:37:38.496 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 1.9056ms
2025-05-07 13:37:38.498 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 2.7832ms
2025-05-07 13:37:38.639 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:37:38.643 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3.9061ms
2025-05-07 13:37:38.693 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:37:38.699 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.1294ms
2025-05-07 13:37:41.894 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:37:41.896 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:41.899 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:37:41.908 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:37:41.911 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 13:37:41.914 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 13.5831ms
2025-05-07 13:37:41.915 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:41.916 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 22.1667ms
2025-05-07 13:37:51.487 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:37:51.490 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 2.6192ms
2025-05-07 13:37:51.502 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:37:51.502 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:37:51.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.3469ms
2025-05-07 13:37:51.506 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.8219ms
2025-05-07 13:37:51.510 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:37:51.513 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3.3724ms
2025-05-07 13:37:51.714 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:37:51.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.4161ms
2025-05-07 13:37:55.846 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:37:55.848 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:55.850 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:37:55.855 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:37:55.857 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 13:37:55.865 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 12.385ms
2025-05-07 13:37:55.866 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:55.867 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 21.6315ms
2025-05-07 13:40:58.613 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 13:44:45.813 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:44:45.881 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:44:46.100 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:44:46.101 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:44:46.128 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:44:46.129 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:44:46.130 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:44:46.325 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - null null
2025-05-07 13:44:46.325 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:44:46.361 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:46.373 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:44:46.404 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 79.6153ms
2025-05-07 13:44:46.431 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:44:46.431 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:44:46.434 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.6481ms
2025-05-07 13:44:46.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.6333ms
2025-05-07 13:44:46.542 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:44:46.555 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 13:44:46.560 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.328ms
2025-05-07 13:44:46.561 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 185.2717ms
2025-05-07 13:44:46.563 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:46.564 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - 499 null application/json; charset=utf-8 239.996ms
2025-05-07 13:44:46.662 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:44:46.728 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.782ms
2025-05-07 13:44:52.585 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - null null
2025-05-07 13:44:52.588 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:52.589 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:44:53.218 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:44:53.230 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 13:44:53.231 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 640.7599ms
2025-05-07 13:44:53.232 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:53.236 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - 404 null application/json; charset=utf-8 650.8716ms
2025-05-07 13:45:11.083 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - null null
2025-05-07 13:45:11.087 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:45:11.088 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:45:11.105 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:45:11.165 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:45:11.176 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 85.6455ms
2025-05-07 13:45:11.178 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:45:11.179 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - 200 null application/json; charset=utf-8 96.2174ms
2025-05-07 13:52:09.819 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:52:09.890 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:52:09.964 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:52:09.965 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:52:09.993 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:52:09.994 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:52:09.994 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:52:10.206 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:52:10.290 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 85.2439ms
2025-05-07 13:52:10.459 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:52:10.459 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:52:10.460 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:52:10.462 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.0422ms
2025-05-07 13:52:10.466 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.494ms
2025-05-07 13:52:10.477 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.172ms
2025-05-07 13:52:10.594 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:52:10.650 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.9917ms
2025-05-07 13:52:16.741 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 1045
2025-05-07 13:52:16.757 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:16.769 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:52:17.509 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (31ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:52:17.652 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:52:17.666 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal), @p23='?' (DbType = Decimal), @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Int32), @p27='?' (DbType = Guid), @p28='?' (DbType = Decimal), @p29='?' (DbType = Decimal), @p30='?' (DbType = Decimal), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Int32), @p34='?' (DbType = Guid), @p35='?' (DbType = Decimal), @p36='?' (DbType = Decimal), @p37='?' (DbType = Decimal), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Int32), @p41='?' (DbType = Guid), @p42='?' (DbType = Decimal), @p43='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43)
RETURNING "Id";
2025-05-07 13:52:17.682 -03:00 [INF]  Sale 3e800630-9337-41fc-b6a9-8d17f59b249a sucefully created!
2025-05-07 13:52:17.688 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:52:17.694 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 921.1276ms
2025-05-07 13:52:17.695 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:17.700 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 958.8004ms
2025-05-07 13:52:49.257 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/3e800630-9337-41fc-b6a9-8d17f59b249a - null null
2025-05-07 13:52:49.260 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:49.264 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:52:49.326 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:52:49.341 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:52:49.349 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 82.8872ms
2025-05-07 13:52:49.350 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:49.351 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/3e800630-9337-41fc-b6a9-8d17f59b249a - 200 null application/json; charset=utf-8 94.74ms
2025-05-07 13:57:02.965 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:57:02.970 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.994ms
2025-05-07 13:57:03.149 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:57:03.149 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:57:03.152 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8468ms
2025-05-07 13:57:03.153 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:57:03.154 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.0042ms
2025-05-07 13:57:03.164 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.2056ms
2025-05-07 13:57:03.272 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:57:03.281 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.5613ms
2025-05-07 13:57:13.352 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 1045
2025-05-07 13:57:13.356 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:13.361 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:57:13.402 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:57:13.407 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:57:13.411 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal), @p23='?' (DbType = Decimal), @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Int32), @p27='?' (DbType = Guid), @p28='?' (DbType = Decimal), @p29='?' (DbType = Decimal), @p30='?' (DbType = Decimal), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Int32), @p34='?' (DbType = Guid), @p35='?' (DbType = Decimal), @p36='?' (DbType = Decimal), @p37='?' (DbType = Decimal), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Int32), @p41='?' (DbType = Guid), @p42='?' (DbType = Decimal), @p43='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43)
RETURNING "Id";
2025-05-07 13:57:13.417 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully created!
2025-05-07 13:57:13.417 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:57:13.420 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 57.4798ms
2025-05-07 13:57:13.421 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:13.423 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 70.7875ms
2025-05-07 13:57:27.035 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - null null
2025-05-07 13:57:27.037 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:27.040 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:57:27.049 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:57:27.052 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:57:27.056 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 14.4937ms
2025-05-07 13:57:27.057 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:27.059 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - 200 null application/json; charset=utf-8 23.8281ms
2025-05-07 13:57:44.077 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
