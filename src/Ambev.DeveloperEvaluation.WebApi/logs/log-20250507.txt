2025-05-07 11:16:17.548 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:16:17.734 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:16:17.810 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:16:17.810 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:16:17.838 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:16:17.839 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:16:17.840 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:16:17.986 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:16:18.073 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 87.6492ms
2025-05-07 11:16:18.087 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:16:18.089 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.793ms
2025-05-07 11:16:18.184 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:16:18.185 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:16:18.192 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.5254ms
2025-05-07 11:16:18.204 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.5823ms
2025-05-07 11:16:18.307 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:16:18.372 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.587ms
2025-05-07 11:17:06.530 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:17:06.645 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:17:06.657 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateUser", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:17:07.720 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:17:07.741 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:17:07.756 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Sales.CreateSale.CreateSaleHandler Sale abdb1f48-7d42-4543-8289-e95714474633 sucefully created!
2025-05-07 11:17:07.761 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:17:07.766 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateUser (Ambev.DeveloperEvaluation.WebApi) in 1105.7276ms
2025-05-07 11:17:07.767 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:17:07.772 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 1241.6271ms
2025-05-07 11:18:11.638 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 11:48:30.982 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:48:31.181 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:48:31.391 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:48:31.391 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:48:31.417 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:48:31.418 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:48:31.418 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:48:31.656 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:48:31.745 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 89.9952ms
2025-05-07 11:48:31.754 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:48:31.757 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.9253ms
2025-05-07 11:48:31.870 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:48:31.871 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:48:31.878 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.0999ms
2025-05-07 11:48:31.889 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.5917ms
2025-05-07 11:48:31.986 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:48:32.049 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.6417ms
2025-05-07 11:48:54.622 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:48:54.645 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:48:54.657 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:48:55.344 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:48:55.363 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:48:55.379 -03:00 [INF]  Sale 238bdc37-87e9-496f-bcbd-aefdb20ba451 sucefully created!
2025-05-07 11:48:55.384 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:48:55.389 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 728.8352ms
2025-05-07 11:48:55.390 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:48:55.395 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 772.4782ms
2025-05-07 11:49:06.278 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 619
2025-05-07 11:49:06.280 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:06.281 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:49:06.315 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:49:06.318 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:49:06.321 -03:00 [INF] Sale 5df7dbd1-96ac-4a16-b822-235e5f23a619 sucefully created!
2025-05-07 11:49:06.322 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:49:06.323 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 40.6121ms
2025-05-07 11:49:06.324 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:06.325 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 46.9147ms
2025-05-07 11:49:25.300 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 208
2025-05-07 11:49:25.304 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:25.305 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:49:25.314 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=11.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-05-07 11:49:25.321 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 15.3881ms
2025-05-07 11:49:25.322 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:49:25.323 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 23.0827ms
2025-05-07 11:50:06.469 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 11:57:46.243 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:57:46.305 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:57:46.367 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:57:46.368 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:57:46.392 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:57:46.393 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:57:46.394 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:57:46.631 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:57:46.712 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 82.1859ms
2025-05-07 11:57:46.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:57:46.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:57:46.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:57:46.722 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8676ms
2025-05-07 11:57:46.726 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.2788ms
2025-05-07 11:57:46.737 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3852ms
2025-05-07 11:57:47.013 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:57:47.065 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.0586ms
2025-05-07 11:58:10.029 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 11:59:31.914 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 11:59:31.979 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 11:59:32.181 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 11:59:32.182 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 11:59:32.208 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 11:59:32.209 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 11:59:32.209 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 11:59:32.410 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 11:59:32.494 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.4251ms
2025-05-07 11:59:32.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 11:59:32.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 11:59:32.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 11:59:32.507 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4304ms
2025-05-07 11:59:32.513 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.6949ms
2025-05-07 11:59:32.522 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3847ms
2025-05-07 11:59:32.672 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 11:59:32.736 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6767ms
2025-05-07 11:59:37.035 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:59:37.051 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:37.064 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:59:37.737 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."CustomerId" = @__id_0
LIMIT 1
2025-05-07 11:59:37.878 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:59:37.890 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:59:37.904 -03:00 [INF]  Sale d1b42727-29ad-4a14-9a46-1529a1ba9370 sucefully created!
2025-05-07 11:59:37.910 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:59:37.916 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 848.6166ms
2025-05-07 11:59:37.917 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:37.922 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 886.8978ms
2025-05-07 11:59:47.526 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 11:59:47.529 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:47.530 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 11:59:47.549 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."CustomerId" = @__id_0
LIMIT 1
2025-05-07 11:59:47.554 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 11:59:47.558 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 11:59:47.562 -03:00 [INF]  Sale d96ec7d4-9600-46cb-b83e-83fba30c9a68 sucefully created!
2025-05-07 11:59:47.563 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 11:59:47.565 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 32.2268ms
2025-05-07 11:59:47.566 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 11:59:47.567 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 40.819ms
2025-05-07 12:01:08.333 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 12:05:56.836 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 12:05:57.040 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 12:05:57.108 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 12:05:57.109 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 12:05:57.135 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 12:05:57.136 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 12:05:57.136 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 12:05:57.761 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:05:57.847 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.3113ms
2025-05-07 12:05:57.854 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:05:57.854 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:05:57.857 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.0059ms
2025-05-07 12:05:57.862 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.9966ms
2025-05-07 12:05:57.909 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:05:57.925 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8643ms
2025-05-07 12:05:58.086 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:05:58.143 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.4215ms
2025-05-07 12:06:08.245 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 12:06:08.263 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:08.276 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:06:09.084 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 12:06:09.139 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:06:09.144 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 864.3352ms
2025-05-07 12:06:09.145 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:09.149 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 904.5808ms
2025-05-07 12:06:42.869 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:06:42.872 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.7785ms
2025-05-07 12:06:42.882 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:06:42.884 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.1001ms
2025-05-07 12:06:42.885 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:06:42.885 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:06:42.891 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.6783ms
2025-05-07 12:06:42.895 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9099ms
2025-05-07 12:06:43.084 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:06:43.091 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.0541ms
2025-05-07 12:06:49.513 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 12:06:49.516 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:49.521 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:06:49.540 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 12:06:49.543 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:06:49.546 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 23.484ms
2025-05-07 12:06:49.548 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:06:49.550 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 36.3544ms
2025-05-07 12:06:58.182 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 12:46:40.997 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 12:46:41.058 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 12:46:41.122 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 12:46:41.122 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 12:46:41.147 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 12:46:41.148 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 12:46:41.149 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 12:46:41.631 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:46:41.716 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.0899ms
2025-05-07 12:46:41.728 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:46:41.728 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:46:41.731 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8003ms
2025-05-07 12:46:41.735 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.7371ms
2025-05-07 12:46:41.775 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:46:41.791 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.78ms
2025-05-07 12:46:41.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:46:41.987 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.4028ms
2025-05-07 12:46:54.598 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 12:46:54.615 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:46:54.627 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:46:55.341 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (29ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 12:46:55.480 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 12:46:55.492 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 12:46:55.506 -03:00 [INF]  Sale e734317e-fcd7-4e25-b10e-c08bb7c72844 sucefully created!
2025-05-07 12:46:55.512 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:46:55.516 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 886.5286ms
2025-05-07 12:46:55.518 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:46:55.522 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 923.4426ms
2025-05-07 12:47:15.519 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:47:15.522 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:15.526 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:47:15.587 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:47:15.601 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:47:15.603 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 74.8418ms
2025-05-07 12:47:15.604 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:15.605 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 400 null application/json; charset=utf-8 85.2507ms
2025-05-07 12:47:51.946 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:47:51.949 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:51.950 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:47:51.985 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:47:51.988 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:47:51.989 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 37.3114ms
2025-05-07 12:47:51.990 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:47:51.990 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 400 null application/json; charset=utf-8 44.2688ms
2025-05-07 12:48:10.318 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 12:52:50.166 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 12:52:50.231 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 12:52:50.295 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 12:52:50.296 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 12:52:50.320 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 12:52:50.321 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 12:52:50.322 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 12:52:50.737 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:52:50.820 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 83.8857ms
2025-05-07 12:52:50.832 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:52:50.832 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:52:50.836 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.1378ms
2025-05-07 12:52:50.838 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.9503ms
2025-05-07 12:52:50.880 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:52:50.895 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.1059ms
2025-05-07 12:52:51.026 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:52:51.091 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.8446ms
2025-05-07 12:52:57.920 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:52:57.937 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:52:57.950 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:52:58.643 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:52:58.711 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:52:58.726 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 773.365ms
2025-05-07 12:52:58.728 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:52:58.733 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 813.013ms
2025-05-07 12:55:58.246 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:55:58.249 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:55:58.250 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:55:58.267 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:55:58.269 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:55:58.271 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 19.3481ms
2025-05-07 12:55:58.272 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:55:58.273 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 27.1386ms
2025-05-07 12:56:18.167 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72858 - null null
2025-05-07 12:56:18.170 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:18.171 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:56:18.206 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:56:18.208 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:56:18.210 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 36.9496ms
2025-05-07 12:56:18.210 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:18.211 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72858 - 400 null application/json; charset=utf-8 43.8627ms
2025-05-07 12:56:32.291 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/348eac52-cef9-4d81-99f4-eee58a27a510 - null null
2025-05-07 12:56:32.293 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:32.294 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:56:32.298 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:56:32.300 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:56:32.301 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 5.5079ms
2025-05-07 12:56:32.302 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:56:32.303 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/348eac52-cef9-4d81-99f4-eee58a27a510 - 400 null application/json; charset=utf-8 11.5482ms
2025-05-07 12:57:09.692 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:57:09.696 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.5635ms
2025-05-07 12:57:09.710 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:57:09.710 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:57:09.711 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:57:09.714 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4256ms
2025-05-07 12:57:09.715 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 4.9667ms
2025-05-07 12:57:09.718 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.324ms
2025-05-07 12:57:09.854 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:57:09.863 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.4204ms
2025-05-07 12:57:27.574 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - null null
2025-05-07 12:57:27.575 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:27.579 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:57:27.583 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:57:27.585 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:57:27.587 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 6.4401ms
2025-05-07 12:57:27.588 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:27.588 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - 400 null application/json; charset=utf-8 14.7309ms
2025-05-07 12:57:39.165 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:57:39.169 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.4761ms
2025-05-07 12:57:39.182 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:57:39.182 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:57:39.182 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:57:39.184 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.3724ms
2025-05-07 12:57:39.186 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.9452ms
2025-05-07 12:57:39.189 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.6402ms
2025-05-07 12:57:39.239 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:57:39.245 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.4009ms
2025-05-07 12:57:43.015 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - null null
2025-05-07 12:57:43.016 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:43.020 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:57:43.024 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:57:43.027 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:57:43.028 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 6.7778ms
2025-05-07 12:57:43.029 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:57:43.030 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/192e71e0-848b-45f9-8b65-2cacc992ac3a - 404 null application/json; charset=utf-8 15.6044ms
2025-05-07 12:58:03.904 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 12:58:03.911 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 6.3799ms
2025-05-07 12:58:03.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 12:58:03.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 12:58:03.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 12:58:03.926 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.0084ms
2025-05-07 12:58:03.930 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.2007ms
2025-05-07 12:58:03.930 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.4317ms
2025-05-07 12:58:03.985 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 12:58:03.990 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.6591ms
2025-05-07 12:58:25.736 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-05-07 12:58:25.738 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:25.742 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:58:25.751 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:58:25.754 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 12:58:25.757 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 13.5769ms
2025-05-07 12:58:25.758 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:25.759 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 404 null application/json; charset=utf-8 23.6551ms
2025-05-07 12:58:35.833 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 12:58:35.835 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:35.836 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 12:58:35.840 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 12:58:35.843 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 12:58:35.847 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 9.2568ms
2025-05-07 12:58:35.849 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 12:58:35.850 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 16.8037ms
2025-05-07 13:01:12.077 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 13:05:35.320 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:05:35.385 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:05:35.451 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:05:35.452 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:05:35.477 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:05:35.477 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:05:35.478 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:05:35.947 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:05:36.031 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.7373ms
2025-05-07 13:05:36.042 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:05:36.042 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:05:36.045 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.6617ms
2025-05-07 13:05:36.049 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.6473ms
2025-05-07 13:05:36.088 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:05:36.104 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.4925ms
2025-05-07 13:05:36.229 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:05:36.288 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.2687ms
2025-05-07 13:05:44.136 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - null null
2025-05-07 13:05:44.152 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:05:44.164 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:05:44.844 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:05:44.912 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:05:44.927 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 760.2779ms
2025-05-07 13:05:44.928 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:05:44.933 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e734317e-fcd7-4e25-b10e-c08bb7c72844 - 200 null application/json; charset=utf-8 796.5617ms
2025-05-07 13:05:55.614 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 13:18:03.528 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:18:03.591 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:18:03.654 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:18:03.654 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:18:03.679 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:18:03.680 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:18:03.680 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:18:04.093 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:18:04.184 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 91.2911ms
2025-05-07 13:18:04.247 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:18:04.247 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:18:04.250 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7287ms
2025-05-07 13:18:04.255 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.18ms
2025-05-07 13:18:04.302 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:18:04.318 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.4185ms
2025-05-07 13:18:04.445 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:18:04.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.0504ms
2025-05-07 13:18:08.599 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:18:08.615 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:18:08.626 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:18:09.268 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:18:09.355 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:18:09.371 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 741.8249ms
2025-05-07 13:18:09.372 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:18:09.376 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 777.7481ms
2025-05-07 13:19:09.692 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 549
2025-05-07 13:19:09.695 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:09.699 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:19:09.793 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:19:09.878 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:19:09.888 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 13:19:09.900 -03:00 [INF]  Sale 5ec60e5a-6c43-425e-bfdf-07c4fe147150 sucefully created!
2025-05-07 13:19:09.903 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:19:09.905 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 204.4312ms
2025-05-07 13:19:09.906 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:09.907 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 215.0684ms
2025-05-07 13:19:46.386 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 398
2025-05-07 13:19:46.389 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:46.390 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:19:46.399 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=11.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-05-07 13:19:46.406 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 14.9309ms
2025-05-07 13:19:46.407 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:46.408 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 22.3009ms
2025-05-07 13:19:56.338 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 399
2025-05-07 13:19:56.340 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:56.340 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:19:56.376 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:19:56.380 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:19:56.382 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-05-07 13:19:56.386 -03:00 [INF]  Sale 8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 sucefully created!
2025-05-07 13:19:56.386 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:19:56.387 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 45.5435ms
2025-05-07 13:19:56.388 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:19:56.389 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 51.3646ms
2025-05-07 13:20:03.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:20:03.441 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:03.442 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:20:03.446 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:20:03.448 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[<>f__AnonymousType0`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:20:03.450 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 6.8367ms
2025-05-07 13:20:03.451 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:03.452 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 12.3376ms
2025-05-07 13:20:24.493 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - null null
2025-05-07 13:20:24.495 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:24.499 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:20:24.517 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:20:24.522 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:20:24.526 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 25.5621ms
2025-05-07 13:20:24.527 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:20:24.527 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - 200 null application/json; charset=utf-8 34.7239ms
2025-05-07 13:31:50.932 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - null null
2025-05-07 13:31:50.934 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:31:50.935 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:31:50.945 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:31:50.947 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:31:50.948 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 11.6724ms
2025-05-07 13:31:50.949 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:31:50.950 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - 200 null application/json; charset=utf-8 17.8405ms
2025-05-07 13:33:05.484 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:33:05.489 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.2116ms
2025-05-07 13:33:05.503 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:33:05.503 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:33:05.505 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.2808ms
2025-05-07 13:33:05.507 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 4.0678ms
2025-05-07 13:33:05.543 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:33:05.550 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1011ms
2025-05-07 13:33:05.703 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:33:05.713 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8917ms
2025-05-07 13:33:10.254 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - null null
2025-05-07 13:33:10.256 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:33:10.260 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:33:10.267 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:33:10.269 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:33:10.273 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 11.9569ms
2025-05-07 13:33:10.274 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:33:10.275 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5ec60e5a-6c43-425e-bfdf-07c4fe147150 - 200 null application/json; charset=utf-8 21.0434ms
2025-05-07 13:33:41.888 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:33:41.891 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 2.8721ms
2025-05-07 13:33:41.905 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:33:41.905 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:33:41.905 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:33:41.907 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 1.9841ms
2025-05-07 13:33:41.909 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.8794ms
2025-05-07 13:33:41.914 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.781ms
2025-05-07 13:33:42.091 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:33:42.097 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.2265ms
2025-05-07 13:33:59.989 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - null null
2025-05-07 13:33:59.991 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:33:59.994 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:33:59.998 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:34:00.000 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:34:00.004 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 7.8256ms
2025-05-07 13:34:00.004 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:34:00.005 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - 200 null application/json; charset=utf-8 16.5093ms
2025-05-07 13:36:40.496 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:36:40.500 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.8811ms
2025-05-07 13:36:40.516 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:36:40.516 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:36:40.518 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 2.0481ms
2025-05-07 13:36:40.520 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.5505ms
2025-05-07 13:36:40.655 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:36:40.659 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.5041ms
2025-05-07 13:36:40.762 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:36:40.767 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.2763ms
2025-05-07 13:36:50.716 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - null null
2025-05-07 13:36:50.717 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:36:50.720 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:36:50.724 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:36:50.726 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:36:50.729 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 7.5552ms
2025-05-07 13:36:50.730 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:36:50.731 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - 200 null application/json; charset=utf-8 14.8859ms
2025-05-07 13:37:38.475 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:37:38.478 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 2.814ms
2025-05-07 13:37:38.495 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:37:38.495 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:37:38.496 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 1.9056ms
2025-05-07 13:37:38.498 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 2.7832ms
2025-05-07 13:37:38.639 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:37:38.643 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3.9061ms
2025-05-07 13:37:38.693 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:37:38.699 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.1294ms
2025-05-07 13:37:41.894 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:37:41.896 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:41.899 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:37:41.908 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:37:41.911 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 13:37:41.914 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 13.5831ms
2025-05-07 13:37:41.915 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:41.916 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 22.1667ms
2025-05-07 13:37:51.487 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:37:51.490 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 2.6192ms
2025-05-07 13:37:51.502 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:37:51.502 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:37:51.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.3469ms
2025-05-07 13:37:51.506 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.8219ms
2025-05-07 13:37:51.510 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:37:51.513 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3.3724ms
2025-05-07 13:37:51.714 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:37:51.719 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.4161ms
2025-05-07 13:37:55.846 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 13:37:55.848 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:55.850 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:37:55.855 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 13:37:55.857 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 13:37:55.865 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 12.385ms
2025-05-07 13:37:55.866 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:37:55.867 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 21.6315ms
2025-05-07 13:40:58.613 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 13:44:45.813 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:44:45.881 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:44:46.100 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:44:46.101 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:44:46.128 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:44:46.129 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:44:46.130 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:44:46.325 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - null null
2025-05-07 13:44:46.325 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:44:46.361 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:46.373 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:44:46.404 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 79.6153ms
2025-05-07 13:44:46.431 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:44:46.431 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:44:46.434 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.6481ms
2025-05-07 13:44:46.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.6333ms
2025-05-07 13:44:46.542 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:44:46.555 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 13:44:46.560 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.328ms
2025-05-07 13:44:46.561 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 185.2717ms
2025-05-07 13:44:46.563 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:46.564 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - 499 null application/json; charset=utf-8 239.996ms
2025-05-07 13:44:46.662 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:44:46.728 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.782ms
2025-05-07 13:44:52.585 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - null null
2025-05-07 13:44:52.588 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:52.589 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:44:53.218 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:44:53.230 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 13:44:53.231 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 640.7599ms
2025-05-07 13:44:53.232 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:44:53.236 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/e7f9d0af-e8d2-4262-beb4-dac87f7c69d1 - 404 null application/json; charset=utf-8 650.8716ms
2025-05-07 13:45:11.083 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - null null
2025-05-07 13:45:11.087 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:45:11.088 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:45:11.105 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:45:11.165 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:45:11.176 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 85.6455ms
2025-05-07 13:45:11.178 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:45:11.179 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/8c86d8c3-c9a7-435a-ba34-c0ddf2c04e75 - 200 null application/json; charset=utf-8 96.2174ms
2025-05-07 13:52:09.819 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 13:52:09.890 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 13:52:09.964 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 13:52:09.965 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 13:52:09.993 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 13:52:09.994 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 13:52:09.994 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 13:52:10.206 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:52:10.290 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 85.2439ms
2025-05-07 13:52:10.459 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:52:10.459 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:52:10.460 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:52:10.462 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.0422ms
2025-05-07 13:52:10.466 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.494ms
2025-05-07 13:52:10.477 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.172ms
2025-05-07 13:52:10.594 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:52:10.650 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.9917ms
2025-05-07 13:52:16.741 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 1045
2025-05-07 13:52:16.757 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:16.769 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:52:17.509 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (31ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:52:17.652 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:52:17.666 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal), @p23='?' (DbType = Decimal), @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Int32), @p27='?' (DbType = Guid), @p28='?' (DbType = Decimal), @p29='?' (DbType = Decimal), @p30='?' (DbType = Decimal), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Int32), @p34='?' (DbType = Guid), @p35='?' (DbType = Decimal), @p36='?' (DbType = Decimal), @p37='?' (DbType = Decimal), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Int32), @p41='?' (DbType = Guid), @p42='?' (DbType = Decimal), @p43='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43)
RETURNING "Id";
2025-05-07 13:52:17.682 -03:00 [INF]  Sale 3e800630-9337-41fc-b6a9-8d17f59b249a sucefully created!
2025-05-07 13:52:17.688 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:52:17.694 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 921.1276ms
2025-05-07 13:52:17.695 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:17.700 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 958.8004ms
2025-05-07 13:52:49.257 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/3e800630-9337-41fc-b6a9-8d17f59b249a - null null
2025-05-07 13:52:49.260 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:49.264 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:52:49.326 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:52:49.341 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:52:49.349 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 82.8872ms
2025-05-07 13:52:49.350 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:52:49.351 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/3e800630-9337-41fc-b6a9-8d17f59b249a - 200 null application/json; charset=utf-8 94.74ms
2025-05-07 13:57:02.965 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 13:57:02.970 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.994ms
2025-05-07 13:57:03.149 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 13:57:03.149 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 13:57:03.152 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8468ms
2025-05-07 13:57:03.153 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 13:57:03.154 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.0042ms
2025-05-07 13:57:03.164 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.2056ms
2025-05-07 13:57:03.272 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 13:57:03.281 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.5613ms
2025-05-07 13:57:13.352 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 1045
2025-05-07 13:57:13.356 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:13.361 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:57:13.402 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 13:57:13.407 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 13:57:13.411 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal), @p23='?' (DbType = Decimal), @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Int32), @p27='?' (DbType = Guid), @p28='?' (DbType = Decimal), @p29='?' (DbType = Decimal), @p30='?' (DbType = Decimal), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Int32), @p34='?' (DbType = Guid), @p35='?' (DbType = Decimal), @p36='?' (DbType = Decimal), @p37='?' (DbType = Decimal), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Int32), @p41='?' (DbType = Guid), @p42='?' (DbType = Decimal), @p43='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43)
RETURNING "Id";
2025-05-07 13:57:13.417 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully created!
2025-05-07 13:57:13.417 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:57:13.420 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 57.4798ms
2025-05-07 13:57:13.421 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:13.423 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 70.7875ms
2025-05-07 13:57:27.035 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - null null
2025-05-07 13:57:27.037 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:27.040 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 13:57:27.049 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 13:57:27.052 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 13:57:27.056 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 14.4937ms
2025-05-07 13:57:27.057 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 13:57:27.059 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - 200 null application/json; charset=utf-8 23.8281ms
2025-05-07 13:57:44.077 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 14:03:14.222 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 14:03:14.284 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 14:03:14.348 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 14:03:14.349 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 14:03:14.373 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 14:03:14.374 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 14:03:14.375 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 14:03:14.572 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:03:14.658 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.3031ms
2025-05-07 14:03:14.825 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:03:14.827 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:03:14.825 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:03:14.828 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.0704ms
2025-05-07 14:03:14.834 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.9152ms
2025-05-07 14:03:14.843 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.1828ms
2025-05-07 14:03:14.960 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:03:15.017 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.4812ms
2025-05-07 14:03:15.973 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 14:33:59.033 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 14:33:59.102 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 14:33:59.303 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 14:33:59.303 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 14:33:59.331 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 14:33:59.332 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 14:33:59.333 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 14:33:59.527 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:33:59.613 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.1223ms
2025-05-07 14:33:59.627 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:33:59.627 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:33:59.630 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.536ms
2025-05-07 14:33:59.633 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.203ms
2025-05-07 14:33:59.761 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:33:59.778 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.1713ms
2025-05-07 14:33:59.873 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:33:59.943 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.237ms
2025-05-07 14:34:22.205 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 14:35:20.771 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 14:35:20.836 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 14:35:20.901 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 14:35:20.902 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 14:35:20.929 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 14:35:20.929 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 14:35:20.930 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 14:35:21.196 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:35:21.277 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 81.4557ms
2025-05-07 14:35:21.436 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:35:21.436 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:35:21.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.6115ms
2025-05-07 14:35:21.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:35:21.445 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.1234ms
2025-05-07 14:35:21.456 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.8135ms
2025-05-07 14:35:21.508 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:35:21.565 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.2484ms
2025-05-07 14:35:59.625 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:35:59.629 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.5804ms
2025-05-07 14:35:59.643 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:35:59.643 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:35:59.643 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:35:59.648 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.3858ms
2025-05-07 14:35:59.650 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 7.1404ms
2025-05-07 14:35:59.651 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0514ms
2025-05-07 14:35:59.889 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:35:59.899 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.9393ms
2025-05-07 14:37:21.407 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 887
2025-05-07 14:37:21.428 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:37:21.440 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 14:37:21.535 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=11.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-05-07 14:37:21.547 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 103.4124ms
2025-05-07 14:37:21.548 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:37:21.549 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 141.9851ms
2025-05-07 14:37:41.580 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:37:41.585 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.9251ms
2025-05-07 14:37:41.599 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:37:41.599 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:37:41.602 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.0588ms
2025-05-07 14:37:41.604 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 5.1294ms
2025-05-07 14:37:41.644 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:37:41.649 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.7016ms
2025-05-07 14:37:41.794 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:37:41.803 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1964ms
2025-05-07 14:39:07.996 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 887
2025-05-07 14:39:08.000 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:39:08.004 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 14:39:08.076 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 14:39:08.078 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 71.4411ms
2025-05-07 14:39:08.079 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:39:08.080 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 83.9388ms
2025-05-07 14:39:19.133 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 14:42:15.981 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 14:42:16.187 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 14:42:16.255 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 14:42:16.256 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 14:42:16.283 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 14:42:16.284 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 14:42:16.284 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 14:42:16.677 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:42:16.768 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 91.3872ms
2025-05-07 14:42:16.781 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:42:16.783 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4783ms
2025-05-07 14:42:16.896 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:42:16.896 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:42:16.903 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.8211ms
2025-05-07 14:42:16.914 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3349ms
2025-05-07 14:42:16.998 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:42:17.074 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.9133ms
2025-05-07 14:42:34.467 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 886
2025-05-07 14:42:34.486 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:42:34.498 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 14:42:34.640 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 14:42:34.644 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 142.016ms
2025-05-07 14:42:34.645 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:42:34.646 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 179.0361ms
2025-05-07 14:43:33.197 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 14:45:35.214 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 14:45:35.278 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 14:45:35.341 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 14:45:35.341 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 14:45:35.367 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 14:45:35.368 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 14:45:35.368 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 14:45:35.835 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:45:35.918 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 83.8362ms
2025-05-07 14:45:35.929 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:45:35.929 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:45:35.934 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 5.2654ms
2025-05-07 14:45:35.936 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.3671ms
2025-05-07 14:45:35.978 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:45:35.994 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.9974ms
2025-05-07 14:45:36.126 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:45:36.191 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.0417ms
2025-05-07 14:45:46.686 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 886
2025-05-07 14:45:46.702 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:45:46.713 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 14:45:46.858 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 14:45:46.862 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 145.8727ms
2025-05-07 14:45:46.863 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:45:46.864 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 178.0413ms
2025-05-07 14:53:57.815 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 14:53:57.882 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 14:53:57.948 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 14:53:57.949 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 14:53:57.975 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 14:53:57.975 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 14:53:57.976 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 14:53:58.523 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 14:53:58.611 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 89.0279ms
2025-05-07 14:53:58.622 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 14:53:58.622 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 14:53:58.627 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 5.128ms
2025-05-07 14:53:58.629 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.1044ms
2025-05-07 14:53:58.671 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 14:53:58.687 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.0839ms
2025-05-07 14:53:58.824 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 14:53:58.892 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.7554ms
2025-05-07 14:54:41.984 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 886
2025-05-07 14:54:42.000 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:54:42.012 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 14:54:42.710 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 14:54:42.789 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 14:54:42.793 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 778.0446ms
2025-05-07 14:54:42.794 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 14:54:42.798 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 813.9767ms
2025-05-07 14:54:49.981 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 15:03:22.081 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:03:22.144 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:03:22.207 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:03:22.207 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:03:22.232 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:03:22.233 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:03:22.233 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:03:22.780 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:03:22.866 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.2169ms
2025-05-07 15:03:22.877 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:03:22.877 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:03:22.881 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.5486ms
2025-05-07 15:03:22.885 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.129ms
2025-05-07 15:03:22.926 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:03:22.942 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.0953ms
2025-05-07 15:03:23.101 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:03:23.162 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.2959ms
2025-05-07 15:03:31.695 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 886
2025-05-07 15:03:31.711 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:03:31.723 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:03:32.571 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (144ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:03:32.750 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 15:03:32.755 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 1027.8341ms
2025-05-07 15:03:32.756 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:03:32.761 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 1066.0483ms
2025-05-07 15:03:42.549 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 15:11:11.797 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:11:11.861 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:11:11.927 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:11:11.928 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:11:11.954 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:11:11.955 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:11:11.956 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:11:12.515 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:11:12.603 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 88.6572ms
2025-05-07 15:11:12.615 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:11:12.615 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:11:12.620 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 5.2234ms
2025-05-07 15:11:12.624 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 9.766ms
2025-05-07 15:11:12.668 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:11:12.684 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.1778ms
2025-05-07 15:11:12.850 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:11:12.913 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.7663ms
2025-05-07 15:11:31.289 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1045
2025-05-07 15:11:31.306 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:11:31.317 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:11:31.405 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=11.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-05-07 15:11:31.415 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 94.2078ms
2025-05-07 15:11:31.416 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:11:31.417 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 128.1964ms
2025-05-07 15:12:00.912 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1093
2025-05-07 15:12:00.915 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:12:00.916 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:12:01.538 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:12:01.656 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Decimal), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Sales" SET "CreatedDate" = @p0, "TotalAmount" = @p1, "UpdatedDate" = @p2
WHERE "Id" = @p3;
2025-05-07 15:12:01.663 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 15:12:01.668 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:12:01.671 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 753.2445ms
2025-05-07 15:12:01.672 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:12:01.677 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 764.9064ms
2025-05-07 15:12:52.660 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - null null
2025-05-07 15:12:52.664 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:12:52.669 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:12:52.693 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:12:52.700 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:12:52.708 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 36.0674ms
2025-05-07 15:12:52.709 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:12:52.710 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - 200 null application/json; charset=utf-8 50.2451ms
2025-05-07 15:14:11.270 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1093
2025-05-07 15:14:11.273 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:14:11.274 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:14:11.312 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:14:11.339 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Decimal), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
UPDATE "Sales" SET "CreatedDate" = @p7, "TotalAmount" = @p8, "UpdatedDate" = @p9
WHERE "Id" = @p10;
2025-05-07 15:14:11.354 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 15:14:11.355 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:14:11.356 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 79.6577ms
2025-05-07 15:14:11.357 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:14:11.358 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 87.8284ms
2025-05-07 15:14:17.978 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - null null
2025-05-07 15:14:17.980 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:14:17.981 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:14:17.986 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:14:17.990 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:14:17.991 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 8.2011ms
2025-05-07 15:14:17.992 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:14:17.994 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - 200 null application/json; charset=utf-8 16.5402ms
2025-05-07 15:19:55.421 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 15:20:11.212 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:20:11.280 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:20:11.493 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:20:11.494 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:20:11.523 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:20:11.524 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:20:11.524 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:20:11.713 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:20:11.804 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 91.297ms
2025-05-07 15:20:11.817 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:20:11.820 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8283ms
2025-05-07 15:20:11.918 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:20:11.920 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:20:11.927 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.6885ms
2025-05-07 15:20:11.938 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.2652ms
2025-05-07 15:20:12.036 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:20:12.109 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.9786ms
2025-05-07 15:21:05.455 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1092
2025-05-07 15:21:05.473 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:21:05.485 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:21:06.176 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:21:06.274 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 15:21:06.278 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 790.277ms
2025-05-07 15:21:06.279 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:21:06.283 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 827.7825ms
2025-05-07 15:21:24.237 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 15:22:13.682 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:22:13.885 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:22:13.956 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:22:13.957 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:22:13.984 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:22:13.985 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:22:13.985 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:22:14.380 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:22:14.466 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.4808ms
2025-05-07 15:22:14.480 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:22:14.480 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:22:14.483 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.5477ms
2025-05-07 15:22:14.487 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.4555ms
2025-05-07 15:22:14.593 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:22:14.610 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.2121ms
2025-05-07 15:22:14.705 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:22:14.774 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.7643ms
2025-05-07 15:22:19.094 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1092
2025-05-07 15:22:19.112 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:22:19.123 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:22:19.846 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:22:19.964 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Decimal), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Sales" SET "CreatedDate" = @p0, "TotalAmount" = @p1, "UpdatedDate" = @p2
WHERE "Id" = @p3;
2025-05-07 15:22:19.971 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 15:22:19.978 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:22:19.983 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 856.8614ms
2025-05-07 15:22:19.985 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:22:19.989 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 895.8744ms
2025-05-07 15:22:43.358 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1092
2025-05-07 15:22:43.361 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:22:43.362 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:22:43.377 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:22:43.382 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Sales" SET "CreatedDate" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-05-07 15:22:43.384 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 15:22:43.385 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:22:43.386 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 23.1021ms
2025-05-07 15:22:43.387 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:22:43.388 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 29.7621ms
2025-05-07 15:27:07.852 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:27:08.048 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:27:08.116 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:27:08.116 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:27:08.143 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:27:08.144 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:27:08.144 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:27:08.514 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:27:08.603 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 89.2357ms
2025-05-07 15:27:08.614 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:27:08.617 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4632ms
2025-05-07 15:27:08.747 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:27:08.748 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:27:08.755 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.987ms
2025-05-07 15:27:08.766 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.5713ms
2025-05-07 15:27:08.855 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:27:08.919 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.0206ms
2025-05-07 15:27:15.294 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1092
2025-05-07 15:27:15.316 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:27:15.329 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:27:16.017 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Guid), @p30='?', @p31='?' (DbType = Int32), @p32='?' (DbType = Guid), @p33='?' (DbType = Decimal), @p34='?' (DbType = Decimal), @p44='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?', @p37='?' (DbType = DateTime2), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Boolean), @p41='?', @p42='?' (DbType = Decimal), @p43='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p35, "BranchName" = @p36, "CreatedDate" = @p37, "CustomerId" = @p38, "CustomerName" = @p39, "IsCancelled" = @p40, "SaleNumber" = @p41, "TotalAmount" = @p42, "UpdatedDate" = @p43
WHERE "Id" = @p44;
2025-05-07 15:27:16.045 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 15:27:16.052 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:27:16.057 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 723.891ms
2025-05-07 15:27:16.058 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:27:16.063 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 768.3051ms
2025-05-07 15:29:19.633 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:29:19.699 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:29:19.896 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:29:19.897 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:29:19.925 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:29:19.926 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:29:19.927 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:29:20.344 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:29:20.428 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.7783ms
2025-05-07 15:29:20.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:29:20.444 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.8336ms
2025-05-07 15:29:20.560 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:29:20.561 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:29:20.564 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.7639ms
2025-05-07 15:29:20.579 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.8238ms
2025-05-07 15:29:20.622 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:29:20.687 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.4645ms
2025-05-07 15:29:26.709 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1092
2025-05-07 15:29:26.729 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:29:26.742 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:29:27.293 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 15:29:27.297 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 551.2629ms
2025-05-07 15:29:27.298 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:29:27.301 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 592.1824ms
2025-05-07 15:31:26.685 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 15:31:42.960 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:31:43.023 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:31:43.220 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:31:43.221 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:31:43.248 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:31:43.249 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:31:43.249 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:31:43.662 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:31:43.743 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 81.5685ms
2025-05-07 15:31:43.880 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:31:43.880 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:31:43.880 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:31:43.885 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.8669ms
2025-05-07 15:31:43.887 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.6867ms
2025-05-07 15:31:43.900 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.6862ms
2025-05-07 15:31:43.990 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:31:44.054 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.5422ms
2025-05-07 15:31:49.648 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1092
2025-05-07 15:31:49.666 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:31:49.677 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:31:50.384 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (28ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:31:50.546 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Decimal), @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Guid), @p16='?' (DbType = Decimal), @p17='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SaleItems"
WHERE "Id" = @p0;
DELETE FROM "SaleItems"
WHERE "Id" = @p1;
DELETE FROM "SaleItems"
WHERE "Id" = @p2;
DELETE FROM "SaleItems"
WHERE "Id" = @p3;
DELETE FROM "SaleItems"
WHERE "Id" = @p4;
DELETE FROM "SaleItems"
WHERE "Id" = @p5;
DELETE FROM "SaleItems"
WHERE "Id" = @p6;
DELETE FROM "SaleItems"
WHERE "Id" = @p7;
DELETE FROM "SaleItems"
WHERE "Id" = @p8;
DELETE FROM "SaleItems"
WHERE "Id" = @p9;
DELETE FROM "SaleItems"
WHERE "Id" = @p10;
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
2025-05-07 15:31:50.569 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 15:31:50.577 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:31:50.583 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 901.9368ms
2025-05-07 15:31:50.584 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:31:50.589 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 941.5198ms
2025-05-07 15:32:21.097 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - null null
2025-05-07 15:32:21.099 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:32:21.103 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:32:21.126 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:32:21.134 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:32:21.141 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 36.3005ms
2025-05-07 15:32:21.142 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:32:21.144 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/5379dc6d-e348-4883-9c49-4e8aa51dd7d6 - 200 null application/json; charset=utf-8 47.2091ms
2025-05-07 15:32:45.973 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 15:32:45.977 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:32:45.978 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:32:46.015 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:32:46.020 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Guid), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SaleItems"
WHERE "Id" = @p0;
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-05-07 15:32:46.025 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 15:32:46.026 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:32:46.028 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 48.1728ms
2025-05-07 15:32:46.029 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:32:46.030 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 56.7549ms
2025-05-07 15:35:59.093 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 15:42:44.522 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 15:42:44.725 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:42:44.792 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 15:42:44.792 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 15:42:44.819 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 15:42:44.819 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 15:42:44.820 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 15:42:45.414 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 15:42:45.592 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 178.5079ms
2025-05-07 15:42:45.603 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 15:42:45.603 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 15:42:45.606 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4209ms
2025-05-07 15:42:45.611 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.4551ms
2025-05-07 15:42:45.653 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 15:42:45.669 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.1468ms
2025-05-07 15:42:45.820 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 15:42:45.881 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.3079ms
2025-05-07 15:42:50.544 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 15:42:50.563 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:42:50.576 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 15:42:51.308 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 15:42:51.403 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 15:42:51.407 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 828.1331ms
2025-05-07 15:42:51.408 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 15:42:51.413 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 868.3072ms
2025-05-07 15:42:57.205 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 16:01:30.094 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 16:01:30.158 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 16:01:30.223 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 16:01:30.224 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 16:01:30.250 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 16:01:30.250 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 16:01:30.251 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 16:01:30.785 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:01:30.869 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.9166ms
2025-05-07 16:01:30.882 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:01:30.882 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:01:30.886 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.6064ms
2025-05-07 16:01:30.891 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 9.5308ms
2025-05-07 16:01:30.931 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:01:30.947 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.1941ms
2025-05-07 16:01:31.100 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:01:31.167 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.8095ms
2025-05-07 16:02:14.413 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:02:14.430 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:02:14.442 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:02:15.161 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 16:02:15.315 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Guid), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SaleItems"
WHERE "Id" = @p0;
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-05-07 16:02:15.333 -03:00 [INF]  Sale 5379dc6d-e348-4883-9c49-4e8aa51dd7d6 sucefully updated!
2025-05-07 16:02:15.341 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 16:02:15.346 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 900.3534ms
2025-05-07 16:02:15.347 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:02:15.352 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 938.2364ms
2025-05-07 16:02:42.301 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 16:37:25.817 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 16:37:25.879 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 16:37:25.943 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 16:37:25.944 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 16:37:25.969 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 16:37:25.970 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 16:37:25.970 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 16:37:26.534 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:37:26.621 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 87.3137ms
2025-05-07 16:37:26.628 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:37:26.628 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:37:26.631 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4657ms
2025-05-07 16:37:26.636 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.1101ms
2025-05-07 16:37:26.681 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:37:26.697 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8066ms
2025-05-07 16:37:26.851 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:37:26.916 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.0191ms
2025-05-07 16:37:35.410 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:37:35.573 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:37:35.585 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:37:36.314 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (28ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 16:37:36.393 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 16:37:36.398 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 809.9676ms
2025-05-07 16:37:36.400 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:37:36.405 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 995.2752ms
2025-05-07 16:37:38.917 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 16:47:55.735 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 16:47:55.798 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 16:47:55.862 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 16:47:55.863 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 16:47:55.890 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 16:47:55.891 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 16:47:55.892 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 16:47:56.413 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:47:56.495 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 81.9664ms
2025-05-07 16:47:56.507 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:47:56.507 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:47:56.511 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.6434ms
2025-05-07 16:47:56.515 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.7343ms
2025-05-07 16:47:56.556 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:47:56.571 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.6644ms
2025-05-07 16:47:56.702 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:47:56.764 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.2938ms
2025-05-07 16:48:06.270 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:48:06.288 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:48:06.300 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:48:06.946 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 16:48:07.079 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Guid), @p30='?', @p31='?' (DbType = Int32), @p32='?' (DbType = Guid), @p33='?' (DbType = Decimal), @p34='?' (DbType = Decimal), @p44='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?', @p37='?' (DbType = DateTime2), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Boolean), @p41='?', @p42='?' (DbType = Decimal), @p43='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p35, "BranchName" = @p36, "CreatedDate" = @p37, "CustomerId" = @p38, "CustomerName" = @p39, "IsCancelled" = @p40, "SaleNumber" = @p41, "TotalAmount" = @p42, "UpdatedDate" = @p43
WHERE "Id" = @p44;
2025-05-07 16:48:07.099 -03:00 [INF]  Sale 9b0fc333-4b3d-4506-904f-b603438bf09f sucefully updated!
2025-05-07 16:48:07.106 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 16:48:07.111 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 807.0164ms
2025-05-07 16:48:07.112 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:48:07.116 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 845.6013ms
2025-05-07 16:48:38.205 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 16:49:56.797 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 16:49:57.007 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 16:49:57.076 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 16:49:57.076 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 16:49:57.103 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 16:49:57.104 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 16:49:57.104 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 16:49:57.487 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:49:57.574 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 87.6978ms
2025-05-07 16:49:57.587 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:49:57.587 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:49:57.591 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.0498ms
2025-05-07 16:49:57.593 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.6539ms
2025-05-07 16:49:57.707 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:49:57.725 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.0679ms
2025-05-07 16:49:57.766 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:49:57.856 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.0214ms
2025-05-07 16:50:01.401 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:50:01.560 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:50:01.572 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:50:02.219 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (28ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 16:50:02.282 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 16:50:02.286 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 710.2954ms
2025-05-07 16:50:02.287 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:50:02.291 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 890.3082ms
2025-05-07 16:52:29.705 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:52:29.709 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.4354ms
2025-05-07 16:52:29.895 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:52:29.895 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:52:29.898 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7695ms
2025-05-07 16:52:29.898 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:52:29.900 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 4.8678ms
2025-05-07 16:52:29.910 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.7869ms
2025-05-07 16:52:30.016 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:52:30.025 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1022ms
2025-05-07 16:52:38.041 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:52:38.044 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:52:38.048 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:52:38.066 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 16:52:38.069 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 16:52:38.071 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 21.3434ms
2025-05-07 16:52:38.073 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:52:38.074 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 32.3481ms
2025-05-07 16:53:51.588 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 16:56:38.081 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 16:56:38.283 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 16:56:38.496 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 16:56:38.497 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 16:56:38.524 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 16:56:38.525 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 16:56:38.526 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 16:56:38.737 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:56:38.824 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 87.5909ms
2025-05-07 16:56:38.836 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:56:38.836 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:56:38.840 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.1365ms
2025-05-07 16:56:38.842 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.8646ms
2025-05-07 16:56:38.969 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:56:38.986 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.4582ms
2025-05-07 16:56:39.079 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:56:39.152 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.5593ms
2025-05-07 16:56:42.983 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:56:43.002 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:56:43.014 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:56:43.660 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 16:56:43.719 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 16:56:43.723 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 704.8575ms
2025-05-07 16:56:43.724 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:56:43.729 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 746.2353ms
2025-05-07 16:57:02.245 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 16:58:43.420 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 16:58:43.630 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 16:58:43.699 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 16:58:43.700 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 16:58:43.728 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 16:58:43.729 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 16:58:43.729 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 16:58:44.132 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:58:44.216 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.811ms
2025-05-07 16:58:44.231 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:58:44.231 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:58:44.235 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.4402ms
2025-05-07 16:58:44.237 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.1128ms
2025-05-07 16:58:44.348 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:58:44.365 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.1897ms
2025-05-07 16:58:44.407 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:58:44.477 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.1259ms
2025-05-07 16:58:48.473 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:58:48.489 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:58:48.501 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:58:49.148 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (28ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 16:58:49.231 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 16:58:49.294 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 16:58:49.299 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 794.5218ms
2025-05-07 16:58:49.300 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:58:49.305 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 831.5749ms
2025-05-07 16:59:18.369 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 16:59:18.373 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.9697ms
2025-05-07 16:59:18.385 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 16:59:18.385 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 16:59:18.385 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 16:59:18.388 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.2289ms
2025-05-07 16:59:18.393 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.6416ms
2025-05-07 16:59:18.396 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0957ms
2025-05-07 16:59:18.580 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 16:59:18.590 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.0882ms
2025-05-07 16:59:22.104 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 16:59:22.107 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:59:22.111 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 16:59:22.129 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 16:59:22.201 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Guid), @p30='?', @p31='?' (DbType = Int32), @p32='?' (DbType = Guid), @p33='?' (DbType = Decimal), @p34='?' (DbType = Decimal), @p44='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?', @p37='?' (DbType = DateTime2), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Boolean), @p41='?', @p42='?' (DbType = Decimal), @p43='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p35, "BranchName" = @p36, "CreatedDate" = @p37, "CustomerId" = @p38, "CustomerName" = @p39, "IsCancelled" = @p40, "SaleNumber" = @p41, "TotalAmount" = @p42, "UpdatedDate" = @p43
WHERE "Id" = @p44;
2025-05-07 16:59:22.221 -03:00 [INF]  Sale 9b0fc333-4b3d-4506-904f-b603438bf09f sucefully updated!
2025-05-07 16:59:22.225 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 16:59:22.228 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 114.3276ms
2025-05-07 16:59:22.229 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 16:59:22.230 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 126.3473ms
2025-05-07 17:00:05.805 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:08:25.219 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:08:25.285 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:08:25.349 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:08:25.350 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:08:25.375 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:08:25.375 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:08:25.376 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:08:25.646 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:08:25.731 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 85.3016ms
2025-05-07 17:08:25.742 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:08:25.742 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:08:25.745 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4255ms
2025-05-07 17:08:25.750 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.9768ms
2025-05-07 17:08:25.793 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:08:25.809 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.5045ms
2025-05-07 17:08:25.948 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:08:26.007 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.6457ms
2025-05-07 17:09:05.908 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:09:05.912 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.8361ms
2025-05-07 17:09:05.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:09:05.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:09:05.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:09:05.926 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 2.4377ms
2025-05-07 17:09:05.930 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 6.2688ms
2025-05-07 17:09:05.934 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0391ms
2025-05-07 17:09:05.991 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:09:06.002 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.4549ms
2025-05-07 17:09:15.543 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 17:09:15.561 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:09:15.571 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:09:16.208 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:09:16.341 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Guid), @p30='?', @p31='?' (DbType = Int32), @p32='?' (DbType = Guid), @p33='?' (DbType = Decimal), @p34='?' (DbType = Decimal), @p44='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?', @p37='?' (DbType = DateTime2), @p38='?' (DbType = Guid), @p39='?', @p40='?' (DbType = Boolean), @p41='?', @p42='?' (DbType = Decimal), @p43='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p35, "BranchName" = @p36, "CreatedDate" = @p37, "CustomerId" = @p38, "CustomerName" = @p39, "IsCancelled" = @p40, "SaleNumber" = @p41, "TotalAmount" = @p42, "UpdatedDate" = @p43
WHERE "Id" = @p44;
2025-05-07 17:09:16.361 -03:00 [INF]  Sale 9b0fc333-4b3d-4506-904f-b603438bf09f sucefully updated!
2025-05-07 17:09:16.368 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:09:16.373 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 798.9319ms
2025-05-07 17:09:16.375 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:09:16.379 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 835.3359ms
2025-05-07 17:09:51.077 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 17:09:51.080 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:09:51.085 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:09:51.098 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-07 17:09:51.105 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 18.7108ms
2025-05-07 17:09:51.106 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:09:51.107 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/problem+json; charset=utf-8 29.7634ms
2025-05-07 17:11:18.287 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:11:18.291 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.2205ms
2025-05-07 17:11:18.307 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:11:18.307 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:11:18.307 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:11:18.309 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.2609ms
2025-05-07 17:11:18.311 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 3.9424ms
2025-05-07 17:11:18.315 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.1053ms
2025-05-07 17:11:18.470 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:11:18.482 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.9097ms
2025-05-07 17:11:21.980 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 17:11:21.983 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:11:21.987 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:11:21.992 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-07 17:11:21.995 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 6.6384ms
2025-05-07 17:11:21.997 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:11:21.997 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 400 null application/problem+json; charset=utf-8 16.8519ms
2025-05-07 17:11:39.773 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:11:56.019 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:11:56.083 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:11:56.146 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:11:56.147 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:11:56.174 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:11:56.175 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:11:56.175 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:11:56.354 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:11:56.438 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 84.2018ms
2025-05-07 17:11:56.450 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:11:56.450 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:11:56.450 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:11:56.455 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 5.2967ms
2025-05-07 17:11:56.456 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.0533ms
2025-05-07 17:11:56.467 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.2106ms
2025-05-07 17:11:56.598 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:11:56.656 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.6421ms
2025-05-07 17:12:00.076 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 17:12:00.093 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:12:00.105 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:12:00.828 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (28ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 17:12:00.967 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 17:12:00.979 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 17:12:00.993 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully created!
2025-05-07 17:12:00.998 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:12:01.003 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 895.1964ms
2025-05-07 17:12:01.004 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:12:01.008 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 932.6006ms
2025-05-07 17:13:07.331 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1017
2025-05-07 17:13:07.335 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:13:07.339 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:13:07.374 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:13:07.381 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:13:07.383 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 42.4135ms
2025-05-07 17:13:07.384 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:13:07.385 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 54.2397ms
2025-05-07 17:14:12.016 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:14:12.019 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:14:12.020 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:14:12.055 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:14:12.058 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:14:12.059 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 37.3055ms
2025-05-07 17:14:12.060 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:14:12.060 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 44.8249ms
2025-05-07 17:15:03.428 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:15:03.430 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:15:03.430 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:15:03.436 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:15:03.438 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:15:03.439 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 6.683ms
2025-05-07 17:15:03.439 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:15:03.440 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 12.7431ms
2025-05-07 17:15:13.709 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:17:22.945 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:17:23.155 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:17:23.221 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:17:23.221 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:17:23.248 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:17:23.249 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:17:23.250 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:17:23.869 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:17:23.952 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 83.3763ms
2025-05-07 17:17:23.964 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:17:23.964 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:17:23.967 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4919ms
2025-05-07 17:17:23.971 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.3532ms
2025-05-07 17:17:24.012 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:17:24.028 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8005ms
2025-05-07 17:17:24.181 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:17:24.243 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.3798ms
2025-05-07 17:17:28.153 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:17:28.174 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:17:28.187 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:17:28.831 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:17:28.965 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p37='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?', @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Boolean), @p34='?', @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p28, "BranchName" = @p29, "CreatedDate" = @p30, "CustomerId" = @p31, "CustomerName" = @p32, "IsCancelled" = @p33, "SaleNumber" = @p34, "TotalAmount" = @p35, "UpdatedDate" = @p36
WHERE "Id" = @p37;
2025-05-07 17:17:28.986 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully updated!
2025-05-07 17:17:28.993 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:17:28.998 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 807.7288ms
2025-05-07 17:17:28.999 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:17:29.003 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 849.7709ms
2025-05-07 17:17:47.808 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:17:47.811 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:17:47.812 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:17:47.827 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:17:47.832 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:17:47.834 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 20.2349ms
2025-05-07 17:17:47.835 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:17:47.835 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 27.1414ms
2025-05-07 17:18:09.383 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:18:09.385 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:18:09.386 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:18:09.422 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:18:09.426 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p37='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?', @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Boolean), @p34='?', @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p28, "BranchName" = @p29, "CreatedDate" = @p30, "CustomerId" = @p31, "CustomerName" = @p32, "IsCancelled" = @p33, "SaleNumber" = @p34, "TotalAmount" = @p35, "UpdatedDate" = @p36
WHERE "Id" = @p37;
2025-05-07 17:18:09.545 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully updated!
2025-05-07 17:18:09.546 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:18:09.547 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 159.5957ms
2025-05-07 17:18:09.548 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:18:09.549 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 166.7238ms
2025-05-07 17:18:21.054 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:18:21.056 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:18:21.057 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:18:21.059 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:18:21.061 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 2.1605ms
2025-05-07 17:18:21.062 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:18:21.063 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 8.4688ms
2025-05-07 17:18:32.565 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:20:44.208 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:20:44.419 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:20:44.488 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:20:44.489 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:20:44.516 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:20:44.517 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:20:44.518 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:20:44.698 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:20:44.784 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 86.8686ms
2025-05-07 17:20:44.797 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:20:44.797 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:20:44.797 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:20:44.799 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4865ms
2025-05-07 17:20:44.803 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.592ms
2025-05-07 17:20:44.815 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.8851ms
2025-05-07 17:20:45.001 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:20:45.068 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.3357ms
2025-05-07 17:20:48.902 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:20:48.918 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:20:48.929 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:20:49.074 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:20:49.078 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 145.3746ms
2025-05-07 17:20:49.079 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:20:49.081 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 179.3798ms
2025-05-07 17:20:59.513 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:20:59.516 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:20:59.517 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:21:00.064 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:21:00.122 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:21:00.124 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 604.8223ms
2025-05-07 17:21:00.125 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:21:00.129 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 616.072ms
2025-05-07 17:21:36.153 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1091
2025-05-07 17:21:36.156 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:21:36.157 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:21:36.173 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:21:36.176 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:21:36.177 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 18.5092ms
2025-05-07 17:21:36.179 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:21:36.180 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 27.267ms
2025-05-07 17:22:02.261 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:25:10.078 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:25:10.297 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:25:10.373 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:25:10.374 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:25:10.401 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:25:10.402 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:25:10.403 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:25:10.838 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:25:10.924 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 85.8375ms
2025-05-07 17:25:10.936 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:25:10.936 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:25:10.940 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.9137ms
2025-05-07 17:25:10.944 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.0987ms
2025-05-07 17:25:10.987 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:25:11.004 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.1322ms
2025-05-07 17:25:11.172 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:25:11.232 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.8157ms
2025-05-07 17:25:16.775 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:25:16.794 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:25:16.806 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:25:17.587 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (88ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:25:17.650 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:25:17.654 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 845.4373ms
2025-05-07 17:25:17.655 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:25:17.660 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 884.897ms
2025-05-07 17:26:13.989 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:27:58.701 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:27:58.901 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:27:59.111 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:27:59.112 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:27:59.139 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:27:59.140 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:27:59.141 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:27:59.552 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:27:59.641 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 90.1585ms
2025-05-07 17:27:59.652 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:27:59.652 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:27:59.652 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:27:59.658 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 6.2051ms
2025-05-07 17:27:59.660 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.1568ms
2025-05-07 17:27:59.670 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.7162ms
2025-05-07 17:27:59.849 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:27:59.916 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.4739ms
2025-05-07 17:28:04.358 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:28:04.381 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:04.393 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:28:05.137 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:28:05.277 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p37='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?', @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Boolean), @p34='?', @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p28, "BranchName" = @p29, "CreatedDate" = @p30, "CustomerId" = @p31, "CustomerName" = @p32, "IsCancelled" = @p33, "SaleNumber" = @p34, "TotalAmount" = @p35, "UpdatedDate" = @p36
WHERE "Id" = @p37;
2025-05-07 17:28:05.296 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully updated!
2025-05-07 17:28:05.303 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:28:05.307 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 911.4376ms
2025-05-07 17:28:05.308 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:05.313 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 955.2905ms
2025-05-07 17:28:17.910 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:28:17.913 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:17.914 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:28:17.930 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:28:17.935 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:28:17.937 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 21.3929ms
2025-05-07 17:28:17.938 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:17.939 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 28.8361ms
2025-05-07 17:28:23.221 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:28:23.224 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:23.225 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:28:23.260 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:28:23.264 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p37='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?', @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Boolean), @p34='?', @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p28, "BranchName" = @p29, "CreatedDate" = @p30, "CustomerId" = @p31, "CustomerName" = @p32, "IsCancelled" = @p33, "SaleNumber" = @p34, "TotalAmount" = @p35, "UpdatedDate" = @p36
WHERE "Id" = @p37;
2025-05-07 17:28:23.269 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully updated!
2025-05-07 17:28:23.270 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:28:23.271 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 44.61ms
2025-05-07 17:28:23.272 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:23.272 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 51.5845ms
2025-05-07 17:28:34.945 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:28:34.947 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:34.948 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:28:34.953 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:28:34.955 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:28:34.956 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 6.7214ms
2025-05-07 17:28:34.957 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:28:34.958 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 13.511ms
2025-05-07 17:30:46.701 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:38:27.077 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:38:27.290 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:38:27.509 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:38:27.510 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:38:27.537 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:38:27.538 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:38:27.538 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:38:27.970 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:38:28.062 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 92.3399ms
2025-05-07 17:38:28.074 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:38:28.074 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:38:28.078 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.8806ms
2025-05-07 17:38:28.082 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.0791ms
2025-05-07 17:38:28.123 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:38:28.139 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.6682ms
2025-05-07 17:38:28.295 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:38:28.360 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.4326ms
2025-05-07 17:38:32.787 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1079
2025-05-07 17:38:32.803 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:38:32.815 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:38:33.575 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (125ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:38:33.710 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p37='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?', @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Boolean), @p34='?', @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p28, "BranchName" = @p29, "CreatedDate" = @p30, "CustomerId" = @p31, "CustomerName" = @p32, "IsCancelled" = @p33, "SaleNumber" = @p34, "TotalAmount" = @p35, "UpdatedDate" = @p36
WHERE "Id" = @p37;
2025-05-07 17:38:33.732 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully updated!
2025-05-07 17:38:33.739 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:38:33.744 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 925.697ms
2025-05-07 17:38:33.745 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:38:33.750 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 963.4572ms
2025-05-07 17:38:54.048 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:38:54.050 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:38:54.052 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:38:54.068 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:38:54.073 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p37='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?', @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Boolean), @p34='?', @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p28, "BranchName" = @p29, "CreatedDate" = @p30, "CustomerId" = @p31, "CustomerName" = @p32, "IsCancelled" = @p33, "SaleNumber" = @p34, "TotalAmount" = @p35, "UpdatedDate" = @p36
WHERE "Id" = @p37;
2025-05-07 17:38:54.080 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully updated!
2025-05-07 17:38:54.081 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:38:54.082 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 28.3917ms
2025-05-07 17:38:54.084 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:38:54.085 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 36.9734ms
2025-05-07 17:39:11.228 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:40:24.944 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:40:25.149 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:40:25.214 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:40:25.214 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:40:25.240 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:40:25.241 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:40:25.241 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:40:25.560 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:40:25.640 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 80.8396ms
2025-05-07 17:40:25.652 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:40:25.652 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:40:25.652 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:40:25.656 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 4.704ms
2025-05-07 17:40:25.661 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 9.3295ms
2025-05-07 17:40:25.669 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.172ms
2025-05-07 17:40:25.840 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:40:25.907 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.9626ms
2025-05-07 17:40:30.320 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:40:30.336 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:30.348 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:40:31.159 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:40:31.196 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:31.227 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:31.230 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:31.232 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:31.246 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:40:31.250 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 898.6765ms
2025-05-07 17:40:31.251 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:31.255 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 934.6693ms
2025-05-07 17:40:34.443 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:40:34.445 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:34.446 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:40:34.460 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:40:34.463 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:34.465 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:34.467 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:34.469 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:34.471 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:40:34.472 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 24.5416ms
2025-05-07 17:40:34.473 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:34.474 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 31.6043ms
2025-05-07 17:40:40.626 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:40:40.630 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:40.632 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:40:40.669 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:40:40.672 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:40.674 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:40.676 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:40.678 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Discount", s."ProductId", s."ProductName", s."Quantity", s."SaleId", s."TotalAmount", s."UnitPrice"
FROM "SaleItems" AS s
WHERE s."ProductId" = @__item_ProductId_0
LIMIT 1
2025-05-07 17:40:40.703 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:40:40.704 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 69.8794ms
2025-05-07 17:40:40.705 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:40.705 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 79.0599ms
2025-05-07 17:40:49.299 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:40:49.303 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 3.392ms
2025-05-07 17:40:49.315 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:40:49.317 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.1655ms
2025-05-07 17:40:49.318 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:40:49.319 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:40:49.324 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 4.8657ms
2025-05-07 17:40:49.328 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.5708ms
2025-05-07 17:40:49.511 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:40:49.522 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.2046ms
2025-05-07 17:40:53.630 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:40:53.632 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:53.636 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:40:53.645 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:40:53.654 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:40:53.656 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 18.1661ms
2025-05-07 17:40:53.657 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:53.657 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 26.8023ms
2025-05-07 17:40:58.859 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:40:58.862 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:58.863 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:40:58.867 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 17:40:58.932 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (DbType = Decimal), @p20='?' (DbType = Decimal), @p21='?' (DbType = Decimal), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Int32), @p25='?' (DbType = Guid), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p37='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?', @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = Boolean), @p34='?', @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p28, "BranchName" = @p29, "CreatedDate" = @p30, "CustomerId" = @p31, "CustomerName" = @p32, "IsCancelled" = @p33, "SaleNumber" = @p34, "TotalAmount" = @p35, "UpdatedDate" = @p36
WHERE "Id" = @p37;
2025-05-07 17:40:58.951 -03:00 [INF]  Sale 693d077d-ef3f-45e9-95b5-ca9b89c8ac08 sucefully updated!
2025-05-07 17:40:58.955 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 17:40:58.957 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 93.1085ms
2025-05-07 17:40:58.959 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:40:58.960 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 100.6381ms
2025-05-07 17:41:29.012 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:42:38.044 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:42:38.116 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:42:38.330 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:42:38.331 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:42:38.358 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:42:38.359 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:42:38.360 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:42:38.532 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:42:38.617 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 85.402ms
2025-05-07 17:42:38.629 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:42:38.629 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:42:38.629 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:42:38.632 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.9609ms
2025-05-07 17:42:38.637 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.1919ms
2025-05-07 17:42:38.648 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.0514ms
2025-05-07 17:42:38.796 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:42:38.860 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.2186ms
2025-05-07 17:42:46.020 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 1080
2025-05-07 17:42:46.036 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:42:46.049 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:42:46.794 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 17:42:46.884 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:42:46.888 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 835.6948ms
2025-05-07 17:42:46.889 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:42:46.894 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 400 null application/json; charset=utf-8 873.532ms
2025-05-07 17:43:02.973 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 17:58:54.991 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 17:58:55.056 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 17:58:55.119 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 17:58:55.120 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 17:58:55.146 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 17:58:55.146 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 17:58:55.147 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 17:58:55.385 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 17:58:55.473 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 88.4961ms
2025-05-07 17:58:55.483 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 17:58:55.483 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 17:58:55.483 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 17:58:55.486 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.3665ms
2025-05-07 17:58:55.490 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 6.7494ms
2025-05-07 17:58:55.501 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.6337ms
2025-05-07 17:58:55.688 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 17:58:55.752 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.602ms
2025-05-07 17:59:02.480 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 DELETE https://localhost:7181/api/Sales/693d077d-ef3f-45e9-95b5-ca9b89c8ac08 - null null
2025-05-07 17:59:02.497 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:59:02.511 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 17:59:02.585 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 17:59:02.590 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi) in 76.3826ms
2025-05-07 17:59:02.591 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 17:59:02.592 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 DELETE https://localhost:7181/api/Sales/693d077d-ef3f-45e9-95b5-ca9b89c8ac08 - 400 null application/json; charset=utf-8 111.8278ms
2025-05-07 17:59:12.301 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 18:03:38.978 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 18:03:39.044 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 18:03:39.107 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 18:03:39.108 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 18:03:39.133 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 18:03:39.134 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 18:03:39.134 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 18:03:39.617 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 18:03:39.698 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 81.4652ms
2025-05-07 18:03:39.709 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 18:03:39.709 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 18:03:39.713 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.8864ms
2025-05-07 18:03:39.717 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 7.6891ms
2025-05-07 18:03:39.756 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 18:03:39.772 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7503ms
2025-05-07 18:03:39.904 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 18:03:39.962 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.6795ms
2025-05-07 18:03:43.412 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 DELETE https://localhost:7181/api/Sales/693d077d-ef3f-45e9-95b5-ca9b89c8ac08 - null null
2025-05-07 18:03:43.428 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:03:43.440 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:03:44.147 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 18:03:44.275 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (DbType = Guid), @p26='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = Guid), @p30='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SaleItems"
WHERE "Id" = @p0;
DELETE FROM "SaleItems"
WHERE "Id" = @p1;
DELETE FROM "SaleItems"
WHERE "Id" = @p2;
DELETE FROM "SaleItems"
WHERE "Id" = @p3;
DELETE FROM "SaleItems"
WHERE "Id" = @p4;
DELETE FROM "SaleItems"
WHERE "Id" = @p5;
DELETE FROM "SaleItems"
WHERE "Id" = @p6;
DELETE FROM "SaleItems"
WHERE "Id" = @p7;
DELETE FROM "SaleItems"
WHERE "Id" = @p8;
DELETE FROM "SaleItems"
WHERE "Id" = @p9;
DELETE FROM "SaleItems"
WHERE "Id" = @p10;
DELETE FROM "SaleItems"
WHERE "Id" = @p11;
DELETE FROM "SaleItems"
WHERE "Id" = @p12;
DELETE FROM "SaleItems"
WHERE "Id" = @p13;
DELETE FROM "SaleItems"
WHERE "Id" = @p14;
DELETE FROM "SaleItems"
WHERE "Id" = @p15;
DELETE FROM "SaleItems"
WHERE "Id" = @p16;
DELETE FROM "SaleItems"
WHERE "Id" = @p17;
DELETE FROM "SaleItems"
WHERE "Id" = @p18;
DELETE FROM "SaleItems"
WHERE "Id" = @p19;
DELETE FROM "SaleItems"
WHERE "Id" = @p20;
DELETE FROM "SaleItems"
WHERE "Id" = @p21;
DELETE FROM "SaleItems"
WHERE "Id" = @p22;
DELETE FROM "SaleItems"
WHERE "Id" = @p23;
DELETE FROM "SaleItems"
WHERE "Id" = @p24;
DELETE FROM "SaleItems"
WHERE "Id" = @p25;
DELETE FROM "SaleItems"
WHERE "Id" = @p26;
DELETE FROM "SaleItems"
WHERE "Id" = @p27;
DELETE FROM "SaleItems"
WHERE "Id" = @p28;
DELETE FROM "SaleItems"
WHERE "Id" = @p29;
DELETE FROM "Sales"
WHERE "Id" = @p30;
2025-05-07 18:03:44.295 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'System.String'.
2025-05-07 18:03:44.298 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi) in 854.0646ms
2025-05-07 18:03:44.299 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:03:44.303 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 DELETE https://localhost:7181/api/Sales/693d077d-ef3f-45e9-95b5-ca9b89c8ac08 - 204 null text/plain; charset=utf-8 891.177ms
2025-05-07 18:04:29.685 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 DELETE https://localhost:7181/api/Sales/9b0fc333-4b3d-4506-904f-b603438bf09f - null null
2025-05-07 18:04:29.688 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:04:29.689 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:04:29.704 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 18:04:29.711 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (DbType = Guid), @p26='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = Guid), @p30='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SaleItems"
WHERE "Id" = @p0;
DELETE FROM "SaleItems"
WHERE "Id" = @p1;
DELETE FROM "SaleItems"
WHERE "Id" = @p2;
DELETE FROM "SaleItems"
WHERE "Id" = @p3;
DELETE FROM "SaleItems"
WHERE "Id" = @p4;
DELETE FROM "SaleItems"
WHERE "Id" = @p5;
DELETE FROM "SaleItems"
WHERE "Id" = @p6;
DELETE FROM "SaleItems"
WHERE "Id" = @p7;
DELETE FROM "SaleItems"
WHERE "Id" = @p8;
DELETE FROM "SaleItems"
WHERE "Id" = @p9;
DELETE FROM "SaleItems"
WHERE "Id" = @p10;
DELETE FROM "SaleItems"
WHERE "Id" = @p11;
DELETE FROM "SaleItems"
WHERE "Id" = @p12;
DELETE FROM "SaleItems"
WHERE "Id" = @p13;
DELETE FROM "SaleItems"
WHERE "Id" = @p14;
DELETE FROM "SaleItems"
WHERE "Id" = @p15;
DELETE FROM "SaleItems"
WHERE "Id" = @p16;
DELETE FROM "SaleItems"
WHERE "Id" = @p17;
DELETE FROM "SaleItems"
WHERE "Id" = @p18;
DELETE FROM "SaleItems"
WHERE "Id" = @p19;
DELETE FROM "SaleItems"
WHERE "Id" = @p20;
DELETE FROM "SaleItems"
WHERE "Id" = @p21;
DELETE FROM "SaleItems"
WHERE "Id" = @p22;
DELETE FROM "SaleItems"
WHERE "Id" = @p23;
DELETE FROM "SaleItems"
WHERE "Id" = @p24;
DELETE FROM "SaleItems"
WHERE "Id" = @p25;
DELETE FROM "SaleItems"
WHERE "Id" = @p26;
DELETE FROM "SaleItems"
WHERE "Id" = @p27;
DELETE FROM "SaleItems"
WHERE "Id" = @p28;
DELETE FROM "SaleItems"
WHERE "Id" = @p29;
DELETE FROM "Sales"
WHERE "Id" = @p30;
2025-05-07 18:04:29.719 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'System.String'.
2025-05-07 18:04:29.720 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi) in 28.7196ms
2025-05-07 18:04:29.721 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:04:29.722 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 DELETE https://localhost:7181/api/Sales/9b0fc333-4b3d-4506-904f-b603438bf09f - 204 null text/plain; charset=utf-8 36.6671ms
2025-05-07 18:04:37.773 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 18:05:35.138 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 18:05:35.203 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 18:05:35.270 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 18:05:35.271 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 18:05:35.297 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 18:05:35.298 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 18:05:35.298 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 18:05:35.514 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 18:05:35.603 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 89.6481ms
2025-05-07 18:05:35.615 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 18:05:35.615 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 18:05:35.615 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 18:05:35.618 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4545ms
2025-05-07 18:05:35.620 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 5.3936ms
2025-05-07 18:05:35.632 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5209ms
2025-05-07 18:05:35.769 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 18:05:35.833 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.1047ms
2025-05-07 18:05:42.871 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7181/api/Sales - application/json 644
2025-05-07 18:05:42.890 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:05:42.902 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:05:43.592 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (27ms) [Parameters=[@__saleNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
FROM "Sales" AS s
WHERE s."SaleNumber" = @__saleNumber_0
LIMIT 1
2025-05-07 18:05:43.725 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("BranchId", "BranchName", "CreatedDate", "CustomerId", "CustomerName", "IsCancelled", "SaleNumber", "TotalAmount", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-05-07 18:05:43.738 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Guid), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Int32), @p20='?' (DbType = Guid), @p21='?' (DbType = Decimal), @p22='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22)
RETURNING "Id";
2025-05-07 18:05:43.751 -03:00 [INF]  Sale 6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f sucefully created!
2025-05-07 18:05:43.756 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.CreateSale.CreateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 18:05:43.761 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi) in 855.4866ms
2025-05-07 18:05:43.762 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.CreateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:05:43.767 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7181/api/Sales - 201 null application/json; charset=utf-8 895.8078ms
2025-05-07 18:05:49.945 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 18:05:49.948 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:05:49.951 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:05:50.007 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 18:05:50.021 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 18:05:50.028 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 75.1247ms
2025-05-07 18:05:50.029 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:05:50.030 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 84.956ms
2025-05-07 18:05:58.971 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - null null
2025-05-07 18:05:58.974 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:05:58.977 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:05:59.024 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 18:05:59.031 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 18:05:59.033 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 55.052ms
2025-05-07 18:05:59.034 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:05:59.035 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - 200 null application/json; charset=utf-8 64.3865ms
2025-05-07 18:06:36.962 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 695
2025-05-07 18:06:36.966 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:06:36.970 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:06:36.993 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 18:06:37.002 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p23='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?', @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Boolean), @p20='?', @p21='?' (DbType = Decimal), @p22='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p14, "BranchName" = @p15, "CreatedDate" = @p16, "CustomerId" = @p17, "CustomerName" = @p18, "IsCancelled" = @p19, "SaleNumber" = @p20, "TotalAmount" = @p21, "UpdatedDate" = @p22
WHERE "Id" = @p23;
2025-05-07 18:06:37.127 -03:00 [INF]  Sale 6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f sucefully updated!
2025-05-07 18:06:37.130 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 18:06:37.133 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 161.6143ms
2025-05-07 18:06:37.134 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:06:37.135 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 172.7247ms
2025-05-07 18:07:01.957 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - null null
2025-05-07 18:07:01.959 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:01.960 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:07:01.968 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 18:07:01.970 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 18:07:01.971 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 9.4066ms
2025-05-07 18:07:01.972 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:01.973 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - 200 null application/json; charset=utf-8 16.0976ms
2025-05-07 18:07:21.994 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 PUT https://localhost:7181/api/Sales - application/json 695
2025-05-07 18:07:21.995 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:21.996 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSale(Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:07:22.000 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sale_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Sales" AS s
    WHERE s."Id" = @__sale_Id_0)
2025-05-07 18:07:22.004 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Decimal), @p23='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?', @p16='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Boolean), @p20='?', @p21='?' (DbType = Decimal), @p22='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "SaleItems" ("Discount", "ProductId", "ProductName", "Quantity", "SaleId", "TotalAmount", "UnitPrice")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
UPDATE "Sales" SET "BranchId" = @p14, "BranchName" = @p15, "CreatedDate" = @p16, "CustomerId" = @p17, "CustomerName" = @p18, "IsCancelled" = @p19, "SaleNumber" = @p20, "TotalAmount" = @p21, "UpdatedDate" = @p22
WHERE "Id" = @p23;
2025-05-07 18:07:22.010 -03:00 [INF]  Sale 6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f sucefully updated!
2025-05-07 18:07:22.010 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 18:07:22.011 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi) in 13.6668ms
2025-05-07 18:07:22.012 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:22.013 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 PUT https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 19.3415ms
2025-05-07 18:07:36.949 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - null null
2025-05-07 18:07:36.951 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:36.952 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:07:36.957 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 18:07:36.959 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Sales.GetSale.GetSaleResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 18:07:36.960 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi) in 6.6938ms
2025-05-07 18:07:36.961 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:36.962 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - 200 null application/json; charset=utf-8 12.3716ms
2025-05-07 18:07:47.914 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 DELETE https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - null null
2025-05-07 18:07:47.916 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:47.919 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:07:47.926 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 18:07:47.934 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SaleItems"
WHERE "Id" = @p0;
DELETE FROM "SaleItems"
WHERE "Id" = @p1;
DELETE FROM "SaleItems"
WHERE "Id" = @p2;
DELETE FROM "SaleItems"
WHERE "Id" = @p3;
DELETE FROM "SaleItems"
WHERE "Id" = @p4;
DELETE FROM "SaleItems"
WHERE "Id" = @p5;
DELETE FROM "Sales"
WHERE "Id" = @p6;
2025-05-07 18:07:47.940 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.DeleteSale.DeleteSaleResponse'.
2025-05-07 18:07:47.943 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi) in 22.6413ms
2025-05-07 18:07:47.944 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:07:47.986 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 DELETE https://localhost:7181/api/Sales/6beb4be8-c5b2-4a5a-8d6d-6bdb0c49c80f - 204 null application/json; charset=utf-8 71.7567ms
2025-05-07 18:08:04.545 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 18:08:04.547 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:08:04.547 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:08:04.551 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 18:08:04.552 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 18:08:04.554 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 5.0247ms
2025-05-07 18:08:04.554 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:08:04.555 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 10.3608ms
2025-05-07 18:08:24.077 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-05-07 18:09:47.139 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-05-07 18:09:47.204 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 18:09:47.411 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7181
2025-05-07 18:09:47.411 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-05-07 18:09:47.438 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-05-07 18:09:47.439 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-05-07 18:09:47.439 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: D:\_Repos\AmbevDeveloperEvaluation\src\Ambev.DeveloperEvaluation.WebApi
2025-05-07 18:09:47.862 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 18:09:47.945 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 83.478ms
2025-05-07 18:09:47.958 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 18:09:47.961 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4252ms
2025-05-07 18:09:48.083 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 18:09:48.084 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 18:09:48.091 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 8.0517ms
2025-05-07 18:09:48.102 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.1816ms
2025-05-07 18:09:48.188 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 18:09:48.252 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.7977ms
2025-05-07 18:10:07.931 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 DELETE https://localhost:7181/api/Sales/9b0fc333-4b3d-4506-904f-b603438bf09f - null null
2025-05-07 18:10:07.947 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:10:07.959 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteSale(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:10:08.622 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BranchId", t."BranchName", t."CreatedDate", t."CustomerId", t."CustomerName", t."IsCancelled", t."SaleNumber", t."TotalAmount", t."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM (
    SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate"
    FROM "Sales" AS s
    WHERE s."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-05-07 18:10:08.636 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 18:10:08.641 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi) in 679.1444ms
2025-05-07 18:10:08.643 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.DeleteSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:10:08.647 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 DELETE https://localhost:7181/api/Sales/9b0fc333-4b3d-4506-904f-b603438bf09f - 404 null application/json; charset=utf-8 715.3514ms
2025-05-07 18:10:17.368 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 18:10:17.370 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:10:17.374 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:10:17.394 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 18:10:17.401 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[System.Collections.Generic.IEnumerable`1[[Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleResult, Ambev.DeveloperEvaluation.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-07 18:10:17.408 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 32.9212ms
2025-05-07 18:10:17.409 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:10:17.410 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 200 null application/json; charset=utf-8 42.2224ms
2025-05-07 18:11:11.539 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.html - null null
2025-05-07 18:11:11.544 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.html - 200 null text/html;charset=utf-8 4.7168ms
2025-05-07 18:11:11.560 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - null null
2025-05-07 18:11:11.560 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/index.js - null null
2025-05-07 18:11:11.562 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 1.6826ms
2025-05-07 18:11:11.564 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/index.js - 200 null application/javascript;charset=utf-8 3.8362ms
2025-05-07 18:11:11.709 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/_vs/browserLink - null null
2025-05-07 18:11:11.716 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1798ms
2025-05-07 18:11:11.815 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - null null
2025-05-07 18:11:11.823 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.6171ms
2025-05-07 18:11:14.906 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7181/api/Sales - null null
2025-05-07 18:11:14.909 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:11:14.912 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllSale", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSale(System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-05-07 18:11:14.948 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BranchId", s."BranchName", s."CreatedDate", s."CustomerId", s."CustomerName", s."IsCancelled", s."SaleNumber", s."TotalAmount", s."UpdatedDate", s0."Id", s0."Discount", s0."ProductId", s0."ProductName", s0."Quantity", s0."SaleId", s0."TotalAmount", s0."UnitPrice"
FROM "Sales" AS s
LEFT JOIN "SaleItems" AS s0 ON s."Id" = s0."SaleId"
ORDER BY s."Id"
2025-05-07 18:11:14.950 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-05-07 18:11:14.951 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi) in 38.0932ms
2025-05-07 18:11:14.952 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetAllSale (Ambev.DeveloperEvaluation.WebApi)'
2025-05-07 18:11:14.953 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7181/api/Sales - 404 null application/json; charset=utf-8 47.4081ms
